schema_version: 1.0.0
meta:
  project: PixEagle
  generated_from: C:\Users\Alireza\PixEagle\configs\config_default.yaml
  generated_at: '2026-02-19T12:09:38.600864'
  description: Auto-generated schema for PixEagle configuration
categories:
  video:
    display_name: Video Input
    icon: videocam
    order: 1
  network:
    display_name: Network & Streaming
    icon: router
    order: 2
  tracking:
    display_name: Tracking
    icon: gps_fixed
    order: 3
  detection:
    display_name: Detection
    icon: search
    order: 4
  follower:
    display_name: Followers
    icon: navigation
    order: 5
  safety:
    display_name: Safety
    icon: shield
    order: 6
  control:
    display_name: Control
    icon: tune
    order: 7
  processing:
    display_name: Processing
    icon: auto_fix_high
    order: 8
  display:
    display_name: Display & Debug
    icon: tv
    order: 9
sections:
  VideoSource:
    display_name: Video Source
    category: video
    icon: videocam
    parameters:
      VIDEO_SOURCE_TYPE:
        type: string
        default: VIDEO_FILE
        description: "=== Universal Capture Parameters (Applied to ALL sources) ===\n  # \U0001F527 These ensure consistent\
          \ processing regardless of input type"
        reload_tier: system_restart
        reboot_required: true
      CAPTURE_WIDTH:
        type: integer
        default: 640
        description: Width in pixels (lower = less CPU)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
        unit: px
      CAPTURE_HEIGHT:
        type: integer
        default: 480
        description: Height in pixels
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
        unit: px
      CAPTURE_FPS:
        type: integer
        default: 30
        description: Target FPS (actual may vary by source)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
        unit: fps
      DEFAULT_FPS:
        type: integer
        default: 30
        description: "Fallback if source doesn't report FPS\n\n  # === Pipeline Timing Mode ===\n  # Controls how frame pacing\
          \ works. Critical for different use cases:\n  #\n  # REALTIME (default):\n  #   Process frames at source FPS. Frame\
          \ delay accounts for processing time.\n  #   Best for: Live cameras, RTSP streams, real-time drone tracking.\n \
          \ #\n  # MAX_THROUGHPUT:\n  #   No artificial delay. Process frames as fast as hardware allows.\n  #   Best for:\
          \ Offline video analysis, batch processing, benchmarking.\n  #   Warning: CPU/GPU will run at 100% utilization.\n\
          \  #\n  # DETERMINISTIC_REPLAY:\n  #   Pace frames based on source video timestamps (PTS).\n  #   Ensures identical\
          \ timing regardless of hardware speed.\n  #   Best for: Regression testing, debugging, deterministic replay.\n \
          \ #   Note: Only meaningful for VIDEO_FILE source type.\n  #"
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
        unit: fps
      PIPELINE_MODE:
        type: string
        default: REALTIME
        description: '# === Performance Optimization === # USE_GSTREAMER controls how frames are READ from cameras (input
          capture). # Set true for Raspberry Pi, Jetson, or embedded systems with GStreamer support. # NOTE: This is completely
          separate from ENABLE_GSTREAMER_STREAM (in GStreamer # section below) which controls OUTPUT streaming to QGC/ground
          stations.'
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: REALTIME
          label: REALTIME
        - value: MAX_THROUGHPUT
          label: MAX_THROUGHPUT
        - value: DETERMINISTIC_REPLAY
          label: DETERMINISTIC_REPLAY
      USE_GSTREAMER:
        type: boolean
        default: false
        description: "=== Source-Specific Parameters ===\n  # Video file source"
        reload_tier: system_restart
        reboot_required: true
      VIDEO_FILE_PATH:
        type: string
        default: resources/test4.mp4
        description: USB Camera (webcam)
        reload_tier: system_restart
        reboot_required: true
        unit: webcam
      CAMERA_INDEX:
        type: integer
        default: 0
        description: "0=first camera, 1=second, etc.\n  # Network streams"
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      RTSP_URL:
        type: string
        default: rtsp://192.168.0.108:554/stream=0
        description: RTSP_URL parameter
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: RTSP
          label: RTSP
        - value: 'no'
          label: 'no'
      RTSP_PROTOCOL:
        type: string
        default: tcp
        description: "RTSP_LATENCY: Buffer time in milliseconds\n  #   - 200: Recommended for stable streaming (good balance)\n\
          \  #   - 100: Lower latency, may drop frames on slow networks\n  #   - 500: More stable for unreliable connections\n\
          \  #   - 0: Minimum latency (may cause decoding errors, not recommended)"
        reload_tier: system_restart
        reboot_required: true
      RTSP_LATENCY:
        type: integer
        default: 200
        description: "=== Connection Recovery Settings ===\n  # Controls automatic reconnection when a video source drops\
          \ frames.\n  # Applies primarily to RTSP/network streams but also used by file/camera sources.\n  # These are safe\
          \ defaults ‚Äî increase timeouts for unstable networks.\n  #\n  # How recovery works:\n  #   1. After RTSP_MAX_CONSECUTIVE_FAILURES\
          \ failed reads, recovery starts\n  #   2. OR if no frame received for RTSP_CONNECTION_TIMEOUT seconds\n  #   3.\
          \ System serves cached frames during recovery (RTSP_FRAME_CACHE_SIZE)\n  #   4. Reconnect attempts use exponential\
          \ backoff (BASE * 2^attempt)\n  #   5. Backoff caps at RTSP_RECOVERY_BACKOFF_MAX seconds\n  #"
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
        unit: s
      RTSP_MAX_CONSECUTIVE_FAILURES:
        type: integer
        default: 10
        description: Failed frame reads before recovery attempt
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 200
      RTSP_CONNECTION_TIMEOUT:
        type: float
        default: 5.0
        description: Seconds without a good frame before recovery
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      RTSP_MAX_RECOVERY_ATTEMPTS:
        type: integer
        default: 3
        description: Reconnect attempts per failure event
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      RTSP_FRAME_CACHE_SIZE:
        type: integer
        default: 5
        description: Cached good frames for graceful degradation
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      RTSP_RECOVERY_BACKOFF_BASE:
        type: float
        default: 1.0
        description: Exponential backoff base interval for RTSP reconnect (seconds)
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 30.0
        step: 0.01
        unit: s
      RTSP_RECOVERY_BACKOFF_MAX:
        type: float
        default: 10.0
        description: Maximum retry delay cap (seconds)
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      UDP_URL:
        type: string
        default: udp://172.21.144.1:5000
        description: UDP_URL parameter
        reload_tier: system_restart
        reboot_required: true
      HTTP_URL:
        type: string
        default: http://172.21.144.1:8100
        description: CSI Camera (Raspberry Pi/Jetson camera)
        reload_tier: system_restart
        reboot_required: true
      CSI_SENSOR_ID:
        type: integer
        default: 0
        description: "Usually 0 for first CSI port\n\n  # Universal frame orientation (applies to all source types/backends)"
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      FRAME_ROTATION_DEG:
        type: integer
        default: 0
        description: Frame rotation angle (must match cv2.rotate preset)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 270
        options:
        - value: 0
          label: 0¬∞
        - value: 90
          label: 90¬∞
        - value: 180
          label: 180¬∞
        - value: 270
          label: 270¬∞
        unit: deg
      FRAME_FLIP_MODE:
        type: string
        default: none
        description: Frame flip mode applied after rotation
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: none
          label: None
        - value: horizontal
          label: Horizontal
        - value: vertical
          label: Vertical
        - value: both
          label: Both
      CUSTOM_PIPELINE:
        type: string
        default: ''
        description: "=== Legacy Parameters (kept for compatibility) ===\n  # DEPRECATED: Use CAPTURE_WIDTH/HEIGHT instead\
          \ of CSI_WIDTH/HEIGHT"
        reload_tier: system_restart
        reboot_required: true
      STORE_LAST_FRAMES:
        type: integer
        default: 5
        description: 'Frame history buffer size


          # ==============================================================================

          # USB CAMERA OPTIMIZATION

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
  USBCamera:
    display_name: USB Camera
    category: video
    icon: usb
    parameters:
      DEVICE_PATH:
        type: string
        default: /dev/video0
        description: "Pixel format selection (impacts CPU usage)\n  # YUYV = uncompressed (moderate CPU)\n  # MJPG = compressed\
          \ (lowest CPU, recommended for RPi)"
        reload_tier: system_restart
        reboot_required: true
      PIXEL_FORMAT:
        type: string
        default: YUYV
        description: OpenCV backend optimizations (when USE_GSTREAMER=false)
        reload_tier: system_restart
        reboot_required: true
      USE_V4L2_BACKEND:
        type: boolean
        default: false
        description: 'Linux only: direct V4L2 access'
        reload_tier: system_restart
        reboot_required: true
      OPENCV_BUFFER_SIZE:
        type: integer
        default: 1
        description: 1=lowest latency, 3=smoother
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      OPENCV_FOURCC:
        type: string
        default: ''
        description: 'Force codec: "MJPG", "H264", etc.


          # ==============================================================================

          # CSI CAMERA CONFIGURATION (Raspberry Pi/Jetson)

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
  CSICamera:
    display_name: CSI Camera
    category: video
    icon: camera
    parameters:
      SENSOR_ID:
        type: integer
        default: 0
        description: 'Camera sensor ID


          # ==============================================================================

          # NETWORK CONFIGURATION (Connection Settings)

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
  PX4:
    display_name: PX4 Connection
    category: network
    icon: flight
    parameters:
      EXTERNAL_MAVSDK_SERVER:
        type: boolean
        default: true
        description: "For SITL: udp://127.0.0.1:14540\n  # For companion computer: udp://127.0.0.1:14540  \n  # For WSL: udp://172.21.148.30:14540\
          \ (use your WSL IP)"
        reload_tier: system_restart
        reboot_required: true
        unit: use your wsl ip
      SYSTEM_ADDRESS:
        type: string
        default: udp://127.0.0.1:14540
        description: SYSTEM_ADDRESS parameter
        reload_tier: system_restart
        reboot_required: true
  MAVLink:
    display_name: MAVLink Telemetry
    category: network
    icon: router
    parameters:
      MAVLINK_ENABLED:
        type: boolean
        default: true
        description: "For local: 127.0.0.1\n  # For WSL: 172.21.148.30 (your WSL IP)"
        reload_tier: system_restart
        reboot_required: true
        unit: your wsl ip
      MAVLINK_HOST:
        type: string
        default: 127.0.0.1
        description: MAVLINK_HOST parameter
        reload_tier: system_restart
        reboot_required: true
      MAVLINK_PORT:
        type: integer
        default: 8088
        description: MAVLINK_PORT parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      MAVLINK_POLLING_INTERVAL:
        type: float
        default: 0.5
        description: "Data refresh rate in seconds\n  # Data points to fetch from MAVLink2REST API"
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      MAVLINK_DATA_POINTS:
        type: object
        default:
          latitude: /vehicles/1/components/1/messages/GLOBAL_POSITION_INT/message/lat
          longitude: /vehicles/1/components/1/messages/GLOBAL_POSITION_INT/message/lon
          altitude_msl: /vehicles/1/components/1/messages/ALTITUDE/message/altitude_amsl
          altitude_agl: /vehicles/1/components/1/messages/ALTITUDE/message/altitude_relative
          voltage: /vehicles/1/components/1/messages/SYS_STATUS/message/voltage_battery
          airspeed: /vehicles/1/components/1/messages/VFR_HUD/message/airspeed
          throttle: /vehicles/1/components/1/messages/VFR_HUD/message/throttle
          groundspeed: /vehicles/1/components/1/messages/VFR_HUD/message/groundspeed
          climb: /vehicles/1/components/1/messages/VFR_HUD/message/climb
          vn: /vehicles/1/components/1/messages/LOCAL_POSITION_NED/message/vx
          ve: /vehicles/1/components/1/messages/LOCAL_POSITION_NED/message/vy
          vd: /vehicles/1/components/1/messages/LOCAL_POSITION_NED/message/vz
          flight_path_angle: null
          roll: /vehicles/1/components/1/messages/ATTITUDE/message/roll
          pitch: /vehicles/1/components/1/messages/ATTITUDE/message/pitch
          heading: /vehicles/1/components/1/messages/VFR_HUD/message/heading
          vdop: /vehicles/1/components/1/messages/GPS_RAW_INT/message/vdop
          hdop: /vehicles/1/components/1/messages/GPS_RAW_INT/message/hdop
          satellites_visible: /vehicles/1/components/1/messages/GPS_RAW_INT/message/satellites_visible
          flight_mode: /vehicles/1/components/1/messages/HEARTBEAT/message/custom_mode
          arm_status: /vehicles/1/components/1/messages/HEARTBEAT/message/base_mode
        description: MAVLINK_DATA_POINTS parameter
        reload_tier: system_restart
        reboot_required: true
  Streaming:
    display_name: Video Streaming
    category: network
    icon: stream
    parameters:
      ENABLE_STREAMING:
        type: boolean
        default: true
        description: === Server Settings ===
        reload_tier: system_restart
        reboot_required: true
      HTTP_STREAM_HOST:
        type: string
        default: 0.0.0.0
        description: 0.0.0.0 = all interfaces
        reload_tier: system_restart
        reboot_required: true
      HTTP_STREAM_PORT:
        type: integer
        default: 5077
        description: "Web dashboard port\n  # === Stream Quality Settings ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      STREAM_WIDTH:
        type: integer
        default: 640
        description: Output resolution
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      STREAM_HEIGHT:
        type: integer
        default: 480
        description: STREAM_HEIGHT parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      STREAM_FPS:
        type: integer
        default: 10
        description: Target FPS (actual may vary)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 200
        unit: actual may vary
      STREAM_QUALITY:
        type: integer
        default: 50
        description: Default JPEG quality (0-100)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      STREAM_PROCESSED_OSD:
        type: boolean
        default: true
        description: "Include overlays\n  # Adaptive Quality Control"
        reload_tier: system_restart
        reboot_required: true
      ENABLE_ADAPTIVE_QUALITY:
        type: boolean
        default: true
        description: Set true for auto quality adjustment
        reload_tier: system_restart
        reboot_required: true
      MIN_QUALITY:
        type: integer
        default: 30
        description: Minimum JPEG quality (1-100)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      MAX_QUALITY:
        type: integer
        default: 85
        description: Maximum JPEG quality (1-100)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      QUALITY_STEP:
        type: integer
        default: 10
        description: "Quality adjustment step size\n  # Frame Caching (reduces CPU usage)"
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 200
      ENABLE_FRAME_CACHE:
        type: boolean
        default: true
        description: Set true to cache encoded frames
        reload_tier: system_restart
        reboot_required: true
      CACHE_TTL_MS:
        type: integer
        default: 100
        description: Cache time-to-live in milliseconds
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      SKIP_IDENTICAL_FRAMES:
        type: boolean
        default: true
        description: "Skip encoding if frame unchanged\n  # Connection Limits"
        reload_tier: system_restart
        reboot_required: true
      HTTP_MAX_CONNECTIONS:
        type: integer
        default: 20
        description: Max concurrent HTTP streams
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      WS_MAX_CONNECTIONS:
        type: integer
        default: 10
        description: Max concurrent WebSocket clients
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 200
      MAX_FRAME_QUEUE:
        type: integer
        default: 3
        description: Max queued frames per WebSocket client
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      HTTP_CHUNK_SIZE:
        type: integer
        default: 65536
        description: "Chunk size for streaming\n\n  # === Performance ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      ENCODING_THREADS:
        type: integer
        default: 2
        description: Parallel encoding threads
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      FRAME_DIFFERENCE_THRESHOLD:
        type: integer
        default: 5
        description: "Pixel difference threshold\n  # === Heartbeat & Connection Health ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      WS_HEARTBEAT_INTERVAL:
        type: integer
        default: 30
        description: Seconds between WebSocket heartbeat checks
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
        unit: s
      WS_STALE_TIMEOUT_MULTIPLIER:
        type: integer
        default: 2
        description: "Client stale after interval * multiplier\n\n  # === Adaptive Quality Engine ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      QUALITY_STEP_ADAPTIVE:
        type: integer
        default: 5
        description: Finer quality step for EWMA engine
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      BANDWIDTH_EWMA_ALPHA:
        type: float
        default: 0.3
        description: Bandwidth smoothing (0=stable, 1=reactive)
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 1.0
        step: 0.01
      ENCODING_EWMA_ALPHA:
        type: float
        default: 0.2
        description: Encoding time smoothing
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 1.0
        step: 0.01
      QUALITY_COOLDOWN_SECONDS:
        type: float
        default: 2.0
        description: Min seconds between quality adjustments
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      TARGET_BANDWIDTH_LOW_KBPS:
        type: integer
        default: 50
        description: 'Below this: reduce quality'
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      TARGET_BANDWIDTH_HIGH_KBPS:
        type: integer
        default: 200
        description: 'Above this: increase quality'
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      CPU_THRESHOLD_HIGH:
        type: integer
        default: 80
        description: CPU% triggers quality reduction
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      CPU_THRESHOLD_LOW:
        type: integer
        default: 60
        description: CPU% allows quality increase
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      ENCODING_TIME_THRESHOLD_MS:
        type: integer
        default: 20
        description: Encoding > this triggers reduction (ms)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
        unit: ms
      MAX_FRAME_CACHE_SIZE:
        type: integer
        default: 10
        description: "Maximum cached encoded frames\n\n  # === WebRTC Settings ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 200
      WEBRTC_MAX_CONNECTIONS:
        type: integer
        default: 3
        description: Max concurrent WebRTC peers
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      WEBRTC_STUN_SERVER:
        type: string
        default: stun:stun.l.google.com:19302
        description: WEBRTC_STUN_SERVER parameter
        reload_tier: system_restart
        reboot_required: true
      WEBRTC_TURN_SERVER:
        type: string
        default: ''
        description: Optional TURN server URL
        reload_tier: system_restart
        reboot_required: true
      WEBRTC_TURN_USERNAME:
        type: string
        default: ''
        description: WEBRTC_TURN_USERNAME parameter
        reload_tier: system_restart
        reboot_required: true
      WEBRTC_TURN_CREDENTIAL:
        type: string
        default: ''
        description: WEBRTC_TURN_CREDENTIAL parameter
        reload_tier: system_restart
        reboot_required: true
      DEFAULT_PROTOCOL:
        type: string
        default: auto
        description: 'auto | webrtc | websocket | http



          # ==============================================================================

          # üéØ TRACKING MODE CONFIGURATION

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
  Tracking:
    display_name: Tracking Settings
    category: tracking
    icon: gps_fixed
    parameters:
      DEFAULT_TRACKING_ALGORITHM:
        type: string
        default: CSRT
        description: === Global Visualization ===
        reload_tier: tracker_restart
        reboot_required: false
      TRACKING_RECTANGLE_COLOR:
        type: array
        default:
        - 255
        - 0
        - 0
        description: 'BGR: Blue'
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      CENTER_CIRCLE_COLOR:
        type: array
        default:
        - 0
        - 255
        - 0
        description: 'BGR: Green'
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      CENTER_HISTORY_LENGTH:
        type: integer
        default: 10
        description: "Trail length\n\n  # === Global Tracking Limits ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
      MAX_DISPLACEMENT_THRESHOLD:
        type: float
        default: 0.25
        description: Max jump as fraction of frame
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TRACKING_FAILURE_TIMEOUT:
        type: float
        default: 5.0
        description: Seconds before re-detection
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      REDETECTION_ATTEMPTS:
        type: integer
        default: 5
        description: "Max re-detection attempts\n\n  # === Confidence Blending (Classic Trackers) ===\n  # Used by BaseTracker\
          \ to blend motion and appearance confidence scores.\n  # Also used by detectors (TemplateMatchingDetector, BaseDetector)\
          \ for\n  # appearance validation during re-detection."
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      APPEARANCE_CONFIDENCE_THRESHOLD:
        type: float
        default: 0.5
        description: Min confidence for appearance match
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MOTION_CONFIDENCE_WEIGHT:
        type: float
        default: 0.5
        description: Weight for motion-based confidence
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      APPEARANCE_CONFIDENCE_WEIGHT:
        type: float
        default: 0.5
        description: "Weight for appearance-based confidence\n\n\n  # Motion consistency threshold for base tracker"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MOTION_CONFIDENCE_THRESHOLD:
        type: float
        default: 0.7
        description: "Minimum confidence from motion consistency check\n  # === Particle Filter Parameters (if using) ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_NUM_PARTICLES:
        type: integer
        default: 500
        description: More = accurate but slower
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
      PF_INIT_POS_STD:
        type: float
        default: 20.0
        description: Initial position uncertainty
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PF_INIT_VEL_STD:
        type: float
        default: 5.0
        description: Initial velocity uncertainty
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PF_INIT_ACC_STD:
        type: float
        default: 1.0
        description: Initial acceleration uncertainty
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_POS_STD:
        type: float
        default: 15.0
        description: Process noise for position
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PF_VEL_STD:
        type: float
        default: 5.0
        description: Process noise for velocity
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PF_ACC_STD:
        type: float
        default: 1.0
        description: Process noise for acceleration
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_APPEARANCE_LIKELIHOOD_SCALE:
        type: float
        default: 25.0
        description: PF_APPEARANCE_LIKELIHOOD_SCALE parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PF_APPEARANCE_LEARNING_RATE:
        type: float
        default: 0.05
        description: PF_APPEARANCE_LEARNING_RATE parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_COLOR_WEIGHT:
        type: float
        default: 0.7
        description: Color vs edge importance
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_EDGE_WEIGHT:
        type: float
        default: 0.3
        description: PF_EDGE_WEIGHT parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_CANNY_THRESHOLD1:
        type: integer
        default: 50
        description: Edge detection params
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      PF_CANNY_THRESHOLD2:
        type: integer
        default: 150
        description: PF_CANNY_THRESHOLD2 parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
      PF_EFFECTIVE_PARTICLE_NUM_THRESHOLD:
        type: float
        default: 0.5
        description: PF_EFFECTIVE_PARTICLE_NUM_THRESHOLD parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PF_RANDOM_PARTICLE_RATIO:
        type: float
        default: 0.1
        description: "Random resampling ratio\n\n  # === Target Aim Point ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      DESIRE_AIM:
        type: array
        default:
        - 0
        - 0
        description: 'Desired aim point in frame [x, y] (normalized)


          # ==============================================================================

          # TRACKER SAFETY PARAMETERS (Global Settings)

          # ==============================================================================

          # Applied to ALL trackers for edge-case handling and robustness'
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
  TrackerSafety:
    display_name: Tracker Safety
    category: tracking
    icon: security
    parameters:
      BOUNDARY_MARGIN_PIXELS:
        type: integer
        default: 15
        description: "Distance threshold for \"near boundary\" detection\n                                         # Research:\
          \ 10-20px margin recommended for 640x480\n\n  # Confidence penalty for boundary targets"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      ENABLE_BOUNDARY_PENALTY:
        type: boolean
        default: true
        description: Apply confidence penalty near frame edges
        reload_tier: tracker_restart
        reboot_required: false
      BOUNDARY_PENALTY_MIN:
        type: float
        default: 0.5
        description: 'Minimum confidence multiplier at edge (0.0-1.0)


          # Global boundary margin (for backward compatibility)'
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
  BOUNDARY_MARGIN_PIXELS:
    type: integer
    default: 15
    description: 'Global access for base_tracker.py


      # ==============================================================================

      # CLASSIC TRACKER COMMON SETTINGS

      # ==============================================================================

      # Shared defaults for all classic trackers (CSRT, KCF, dlib).

      # Individual tracker sections (CSRT_Tracker, KCF_Tracker, DLIB_Tracker)

      # override these values when set.'
    reload_tier: system_restart
    reboot_required: true
    min: 0
    max: 1000
  ClassicTracker_Common:
    display_name: Classic Tracker Common
    category: tracking
    icon: tune
    parameters:
      appearance_update_min_confidence:
        type: float
        default: 0.55
        description: Maximum bbox scale change per frame before rejecting as invalid
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      max_scale_change_per_frame:
        type: float
        default: 0.4
        description: Maximum motion as fraction of frame diagonal (for validation)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: for validation
      motion_consistency_threshold:
        type: float
        default: 0.5
        description: Pixel margin from frame edge for out-of-frame detection
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      exit_edge_margin_pixels:
        type: integer
        default: 5
        description: Performance logging interval (frames between logs)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      performance_log_interval:
        type: integer
        default: 30
        description: EMA alpha for confidence smoothing (0=very smooth, 1=no smoothing)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      confidence_ema_alpha:
        type: float
        default: 0.7
        description: '==============================================================================

          # üéØ KCF TRACKER CONFIGURATION (Kernelized Correlation Filter + Kalman)

          # ==============================================================================

          # Best for: High-speed tracking, CPU-limited systems, fast targets

          # Performance: 25-30 FPS, ~75% success rate

          # Limitations: Poor rotation invariance, moderate scale changes only

          #

          # Tuning Guide:

          # - Target lost easily? ‚Üí ‚Üì confidence_threshold, ‚Üë failure_threshold

          # - Tracker too slow? ‚Üí ‚Üì appearance_learning_rate

          # - Rotation issues? ‚Üí ‚Üë appearance_learning_rate, ‚Üë max_scale_change

          # - Jittery tracking? ‚Üí ‚Üì confidence_smoothing (more smoothing)

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: fps
  KCF_Tracker:
    display_name: KCF Tracker
    category: tracking
    icon: track_changes
    parameters:
      confidence_threshold:
        type: float
        default: 0.15
        description: "Min confidence to accept (0.0-1.0)\n                                         # Research: 0.15-0.25 optimal\
          \ for aerial KCF tracking\n                                         # KCF confidence scoring is less calibrated\
          \ than CSRT\n                                         # ‚úÖ TUNED: 0.15 (very tolerant) for fast race car tracking"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      failure_threshold:
        type: integer
        default: 7
        description: "Consecutive failures before declaring lost\n                                         # Research: 5-10\
          \ frames optimal for KCF UAV tracking\n                                         # KCF suffers from boundary effects\
          \ and filter corruption\n                                         # ‚úÖ TUNED: 7 frames (~233ms at 30fps) handles\
          \ boundary effects"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 140
      confidence_smoothing:
        type: float
        default: 0.6
        description: "EMA alpha (0.0-1.0)\n                                         # Research: 0.5-0.7 optimal for KCF (more\
          \ smoothing than CSRT)\n                                         # Lower = more stable (filters noise), higher =\
          \ more responsive\n                                         # ‚úÖ TUNED: 0.6 for heavy smoothing of noisy KCF confidence\n\
          \n  # === Validation Limits ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      max_scale_change_per_frame:
        type: float
        default: 0.6
        description: "Max size change per frame (0.0-1.0)\n                                         # Research: KCF requires\
          \ aggressive scale adaptation\n                                         # 0.6 = 60% scale change allowed (generous\
          \ for zoom)\n                                         # ‚úÖ TUNED: 0.6 compensates for KCF's scale limitations"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      max_motion_per_frame:
        type: float
        default: 0.7
        description: "Max motion as fraction of frame diagonal\n                                         # Research: 0.6-0.8\
          \ optimal for high-speed aerial tracking\n                                         # KCF's expanded search region\
          \ (2.5x target size) allows this\n                                         # ‚úÖ TUNED: 0.7 for high-speed targets\
          \ with expanded search\n\n  # === Appearance Adaptation ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      appearance_learning_rate:
        type: float
        default: 0.18
        description: "Adaptive learning speed (0.0-1.0)\n                                         # Research: 0.15-0.25 optimal\
          \ for KCF aerial tracking\n                                         # Higher = faster adaptation (compensates for\
          \ rotation)\n                                         # ‚úÖ TUNED: 0.18 (aggressive) for rotation tolerance\n\n  #\
          \ === Internal Kalman Filter Parameters ===\n  # These control the internal 4D Kalman filter (state: x, y, vx, vy)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      kalman_process_noise:
        type: float
        default: 0.1
        description: "Process noise (Q matrix multiplier)\n                                         # Lower = trust motion\
          \ model more, higher = trust measurements"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      kalman_velocity_noise_factor:
        type: float
        default: 0.5
        description: "Velocity noise relative to position noise\n                                         # Lower = smoother\
          \ velocity estimates"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      kalman_measurement_noise:
        type: float
        default: 5.0
        description: "Measurement noise (R matrix, ~pixels)\n                                         # Typical sensor uncertainty\
          \ in pixels"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: px
      kalman_initial_covariance:
        type: float
        default: 10.0
        description: "Initial state covariance (P matrix)\n                                         # Higher = less confident\
          \ in initial state\n\n  # === Motion Consistency Threshold (Research-Optimized) ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      motion_consistency_threshold:
        type: float
        default: 0.15
        description: "Max motion as fraction of frame diagonal\n                                         # Research: 0.7 (1541px\
          \ on 640x480) is 6x too permissive\n                                         # ‚úÖ TUNED: 0.15 (~120px) for accurate\
          \ frame-to-frame validation\n\n  # === Velocity-Based Occlusion Recovery ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      use_velocity_during_occlusion:
        type: boolean
        default: true
        description: "Use Kalman velocity for position extrapolation\n                                         # Improves\
          \ recovery accuracy by 15-25%"
        reload_tier: tracker_restart
        reboot_required: false
      occlusion_velocity_factor:
        type: float
        default: 0.5
        description: "Conservative extrapolation (50% of velocity)\n                                         # Prevents overshooting\
          \ during occlusion\n\n  # === Asymmetric Kalman Initial Covariance ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      kalman_initial_position_covariance:
        type: float
        default: 10.0
        description: 'Position: high confidence (known)'
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: known
      kalman_initial_velocity_covariance:
        type: float
        default: 100.0
        description: "Velocity: low confidence (unknown at start)\n\n  # === Research-Based Tuning Presets ===\n  # \U0001F3CE\
          Ô∏è HIGH-SPEED RACE CARS (Current Config - Optimized):\n  #   confidence_threshold: 0.15, failure_threshold: 7, appearance_learning_rate:\
          \ 0.18\n  #   confidence_smoothing: 0.6, max_motion_per_frame: 0.7\n  #\n  # \U0001F681 DRONE-TO-DRONE TRACKING:\n\
          \  #   confidence_threshold: 0.12, failure_threshold: 10, appearance_learning_rate: 0.20\n  #   max_scale_change_per_frame:\
          \ 0.7, max_motion_per_frame: 0.8\n  #\n  # \U0001F4BB CPU-LIMITED (Raspberry Pi):\n  #   confidence_threshold: 0.20,\
          \ failure_threshold: 5, appearance_learning_rate: 0.12\n  #   confidence_smoothing: 0.5\n\n# ==============================================================================\n\
          # \U0001F3AF CSRT TRACKER CONFIGURATION (Channel and Spatial Reliability Tracker)\n# ==============================================================================\n\
          # Best for: Rotation, perspective changes, drone circling targets\n# Performance: 15-20 FPS, ~85% success rate\n\
          # Strengths: Rotation-invariant, excellent scale adaptation, occlusion handling\n#\n# ==============================================================================\n\
          # \U0001F680 SIMPLE PERFORMANCE MODE - Choose based on your system:\n# ==============================================================================\n\
          #\n# \"legacy\"    - ORIGINAL CSRT (15-20 FPS) \U0001F527 CLASSIC\n#               ‚úÖ Exact original implementation\
          \ (proven stable)\n#               ‚úÖ Zero overhead, maximum compatibility\n#               ‚úÖ Always starts reliably\
          \ when you click\n#               ‚ö†Ô∏è May lose track during fast rotation/occlusions\n#               Best for: Want\
          \ original behavior, maximum speed\n#\n# \"balanced\"  - RECOMMENDED (12-18 FPS) ‚≠ê DEFAULT\n#               ‚úÖ Reliable\
          \ startup with grace period\n#               ‚úÖ Smooth confidence tracking (EMA filtering)\n#               ‚úÖ Good\
          \ for drone circling targets\n#               ‚úÖ Best speed/accuracy trade-off\n#               Best for: Most use\
          \ cases, general purpose\n#\n# \"robust\"    - PROFESSIONAL (10-15 FPS) \U0001F4AA ADVANCED\n#               ‚úÖ Multi-frame\
          \ failure tolerance\n#               ‚úÖ Motion/scale validation against Kalman estimator\n#               ‚úÖ Adaptive\
          \ appearance learning\n#               ‚úÖ Maximum stability during challenging scenarios\n#               ‚ö†Ô∏è Requires\
          \ more CPU resources\n#               Best for: Critical missions, powerful hardware\n#\n# =============================================================================="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        options:
        - value: legacy
          label: legacy
        - value: balanced
          label: balanced
        - value: robust
          label: robust
        unit: fps
  CSRT_Tracker:
    display_name: CSRT Tracker
    category: tracking
    icon: track_changes
    parameters:
      performance_mode:
        type: string
        default: robust
        description: "Choose: \"legacy\", \"balanced\", or \"robust\"\n                                         # ‚≠ê OPTIMIZED\
          \ FOR: Aerial drone tracking race cars\n\n  # === Advanced Parameters (Research-Optimized for Aerial Tracking) ===\n\
          \  # ‚ÑπÔ∏è Based on IEEE 2020-2024 aerial tracking research\n  # ‚úÖ Optimized for: Ground vehicles from aerial view,\
          \ perspective changes"
        reload_tier: tracker_restart
        reboot_required: false
      confidence_threshold:
        type: float
        default: 0.45
        description: "Min confidence to accept (0.0-1.0)\n                                         # Research: 0.4-0.5 optimal\
          \ for aerial ground targets\n                                         # Auto: legacy=0.6, balanced=0.5, robust=0.4\n\
          \                                         # ‚úÖ TUNED: 0.45 for race car tracking (moderate tolerance)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      failure_threshold:
        type: integer
        default: 5
        description: "Consecutive failures before declaring lost\n                                         # Research: 3-7\
          \ frames optimal for UAV tracking\n                                         # ‚úÖ TUNED: 5 frames (~166ms at 30fps)\
          \ handles transient occlusions"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      confidence_smoothing:
        type: float
        default: 0.7
        description: "EMA alpha (0.0-1.0)\n                                         # Research: 0.6-0.8 optimal for aerial\
          \ platforms\n                                         # ‚úÖ TUNED: 0.7 balances responsiveness with stability"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      validation_start_frame:
        type: integer
        default: 10
        description: "Grace period before validation starts\n                                         # Research: 5-15 frames\
          \ needed for filter convergence\n                                         # ‚ö†Ô∏è Critical for reliable lock-on from\
          \ user ROI selection\n                                         # ‚úÖ TUNED: 10 frames (~333ms) for stable initialization"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
      max_scale_change_per_frame:
        type: float
        default: 0.5
        description: "Max size change per frame (0.0-1.0)\n                                         # Research: 0.4-0.6 optimal\
          \ for aerial zoom changes\n                                         # ‚úÖ TUNED: 0.5 (50% change) handles altitude\
          \ variations"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      max_motion_per_frame:
        type: float
        default: 0.6
        description: "Max motion as fraction of frame diagonal\n                                         # Research: 0.5-0.7\
          \ optimal for fast-moving targets\n                                         # Accounts for: race car speed + drone\
          \ camera motion\n                                         # ‚úÖ TUNED: 0.6 for high-speed race car tracking"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      appearance_learning_rate:
        type: float
        default: 0.1
        description: "Adaptive learning speed (0.0-1.0)\n                                         # Research: 0.08-0.15 optimal\
          \ for aerial tracking\n                                         # ‚úÖ TUNED: 0.10 for gradual appearance adaptation\n\
          \n  # === OpenCV CSRT Advanced Parameters (CVPR 2017 Research-Optimized) ===\n  # These configure the internal OpenCV\
          \ CSRT algorithm for improved accuracy"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      use_color_names:
        type: boolean
        default: true
        description: ColorNames features (+5-8% accuracy for colored targets)
        reload_tier: tracker_restart
        reboot_required: false
      use_hog:
        type: boolean
        default: true
        description: HOG features (essential for shape-based tracking)
        reload_tier: tracker_restart
        reboot_required: false
      csrt_learning_rate:
        type: float
        default: 0.02
        description: Filter learning rate (0.02 faster than default 0.015)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      number_of_scales:
        type: integer
        default: 33
        description: Scale pyramid levels (33 for finer scale precision)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      scale_step:
        type: float
        default: 1.02
        description: Scale factor between levels (1.02 for smooth adaptation)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      use_segmentation:
        type: boolean
        default: true
        description: "Foreground/background segmentation\n\n  # === Appearance Model Drift Protection ==="
        reload_tier: tracker_restart
        reboot_required: false
      appearance_update_min_confidence:
        type: float
        default: 0.55
        description: "Only update appearance when conf > this\n                                         # Prevents template\
          \ corruption during occlusions\n\n  # === Multi-Frame Validation Consensus ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      enable_multiframe_validation:
        type: boolean
        default: true
        description: Require N consecutive valid frames
        reload_tier: tracker_restart
        reboot_required: false
      validation_consensus_frames:
        type: integer
        default: 3
        description: 'Frames required for consensus


          # ==============================================================================

          # üéØ DLIB TRACKER CONFIGURATION (dlib Correlation Filter Tracker)

          # ==============================================================================

          # Best for: Fast tracking, high FPS requirements, CPU-constrained systems

          # Performance: 25-30 FPS, ~85% success rate

          # Strengths: Fast correlation filter, good out-of-the-box performance, PSR confidence

          # Limitations: Limited rotation invariance, moderate occlusion handling

          #

          # Algorithm: Based on Danelljan et al. 2014 DSST (Discriminative Scale Space Tracker)

          #            Built on Bolme et al. 2010 MOSSE (Minimum Output Sum of Squared Error)

          #

          # ==============================================================================

          # üöÄ SIMPLE PERFORMANCE MODE - Choose based on your needs:

          # ==============================================================================

          #

          # "fast"      - MAXIMUM SPEED (25-30 FPS) ‚ö° HIGH-FPS

          #               ‚úÖ Minimal validation overhead

          #               ‚úÖ Direct PSR-based confidence

          #               ‚úÖ Best for high-speed targets

          #               ‚ö†Ô∏è May lose track on rapid rotation

          #               Best for: High FPS requirements, fast-moving targets

          #

          # "balanced"  - RECOMMENDED (18-25 FPS) ‚≠ê DEFAULT

          #               ‚úÖ PSR confidence monitoring with smoothing

          #               ‚úÖ Startup grace period for reliable tracking

          #               ‚úÖ Good accuracy/speed trade-off

          #               ‚úÖ Works well with aerial drone tracking

          #               Best for: Most use cases, general purpose

          #

          # "robust"    - MAXIMUM STABILITY (12-18 FPS) üí™ ADVANCED

          #               ‚úÖ Full motion/scale validation

          #               ‚úÖ Kalman estimator cross-validation

          #               ‚úÖ Adaptive appearance learning

          #               ‚úÖ Best for challenging scenarios

          #               ‚ö†Ô∏è Requires more CPU resources

          #               Best for: Critical missions, powerful hardware

          #

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
        options:
        - value: fast
          label: fast
        - value: balanced
          label: balanced
        - value: robust
          label: robust
        unit: fps
  DLIB_Tracker:
    display_name: dlib Tracker
    category: tracking
    icon: track_changes
    parameters:
      performance_mode:
        type: string
        default: robust
        description: performance_mode parameter
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: Choose
          label: Choose
        - value: robust
          label: robust
        - value: loss
          label: loss
      psr_confidence_threshold:
        type: float
        default: 7.0
        description: "Min PSR for reliable tracking\n                                         # Research: PSR = 7.0 recommended\
          \ by Bolme et al. (CVPR 2010)\n                                         # Aerial tracking: 5.0-8.0 optimal range\n\
          \                                         # Auto: fast=5.0, balanced=7.0, robust=7.0\n                         \
          \                # ‚úÖ TUNED: 7.0 (research standard) for balanced reliability"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      psr_high_confidence:
        type: float
        default: 20.0
        description: "PSR above this = excellent tracking\n                                         # Research: PSR > 20 indicates\
          \ very strong correlation peak\n                                         # ‚úÖ TUNED: 20.0 (research standard) for\
          \ normalization"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      psr_low_confidence:
        type: float
        default: 5.0
        description: psr_low_confidence parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        options:
        - value: PSR
          label: PSR
        - value: tracking
          label: tracking
      failure_threshold:
        type: integer
        default: 5
        description: "Consecutive failures before declaring lost\n                                         # Research: 3-7\
          \ frames optimal for correlation filters\n                                         # Auto: fast=3, balanced=5, robust=5\n\
          \                                         # ‚úÖ TUNED: 5 frames (balances robustness with responsiveness)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      confidence_smoothing_alpha:
        type: float
        default: 0.7
        description: "EMA (Exponential Moving Average) alpha\n                                         # Research: 0.6-0.8\
          \ optimal for aerial platforms\n                                         # Only used in balanced/robust modes\n\
          \                                         # ‚úÖ TUNED: 0.7 for balanced PSR smoothing\n\n  # === Validation & Robustness\
          \ (Robust Mode Only) ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      validation_start_frame:
        type: integer
        default: 10
        description: "Grace period before validation starts\n                                         # Research: 5-15 frames\
          \ for MOSSE/DSST convergence\n                                         # ‚ö†Ô∏è Critical for reliable startup!\n   \
          \                                      # Auto: fast=999999, balanced=10, robust=5\n                            \
          \             # ‚úÖ TUNED: 10 frames (~333ms at 30fps)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
      max_scale_change_per_frame:
        type: float
        default: 0.5
        description: "Max size change per frame (0.0-1.0)\n                                         # Research: 0.4-0.6 optimal\
          \ for aerial tracking\n                                         # DSST uses 33 scale levels with factor a=1.02 (research\
          \ std)\n                                         # ‚úÖ TUNED: 0.5 for moderate aerial zoom tolerance"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      max_motion_per_frame:
        type: float
        default: 0.6
        description: "Max motion as fraction of frame diagonal\n                                         # Research: 0.5-0.7\
          \ optimal for fast targets\n                                         # MOSSE achieves hundreds of FPS, can handle\
          \ fast motion\n                                         # ‚úÖ TUNED: 0.6 for high-speed race car tracking\n\n  # ===\
          \ Appearance Adaptation ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: fps
      appearance_learning_rate:
        type: float
        default: 0.08
        description: "Template update learning rate (0.0-1.0)\n                                         # Research: 0.08-0.15\
          \ optimal for aerial tracking\n                                         # DSST research: spatial filter Œ∑=0.012,\
          \ scale filter Œ∑=0.025\n                                         # Auto: fast=0.08, balanced=0.08, robust=0.08\n\
          \                                         # ‚úÖ TUNED: 0.08 for balanced adaptation (slightly conservative)\n\n  #\
          \ === Template Matching Re-detection Integration ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      enable_template_redetection:
        type: boolean
        default: true
        description: "Use template matching for recovery\n                                         # Research: Multi-scale\
          \ NCC for re-detection (UAV tracking papers)\n                                         # ‚úÖ RECOMMENDED: true for\
          \ robust tracking"
        reload_tier: tracker_restart
        reboot_required: false
      redetection_psr_threshold:
        type: float
        default: 5.0
        description: "Trigger re-detection below this PSR\n                                         # Research: Should match\
          \ psr_low_confidence threshold\n                                         # ‚úÖ TUNED: 5.0 (matches research standard\
          \ for failure)\n\n  # ==============================================================================\n  # \U0001F52C\
          \ ADVANCED FEATURES (Enhanced Robustness & Adaptability)\n  # ==============================================================================\n\
          \  # The following features implement state-of-the-art correlation filter techniques\n  # based on recent research\
          \ in adaptive tracking and template management\n\n  # === Adaptive PSR System (Dynamic Threshold Adjustment) ===\n\
          \  # Automatically adjusts PSR thresholds based on tracking history\n  # Research: Adaptive thresholding improves\
          \ robustness in varying conditions\n  # Reference: Zhang et al. \"Adaptive Correlation Filters with Long-Term and\
          \ Short-Term Memory\" IJCV 2018"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      adaptive:
        type: object
        default:
          enable: true
          psr_dynamic_scaling: true
          adapt_rate: 0.15
          psr_margin: 1.5
        description: adaptive parameter
        reload_tier: tracker_restart
        reboot_required: false
      appearance:
        type: object
        default:
          use_adaptive_learning: true
          adaptive_learning_bounds:
          - 0.05
          - 0.15
          freeze_on_low_confidence: true
          reference_update_interval: 30
        description: appearance parameter
        reload_tier: tracker_restart
        reboot_required: false
      motion:
        type: object
        default:
          velocity_limit: 25.0
          velocity_normalize_by_size: true
          max_velocity_target_factor: 2.0
          stabilization_alpha: 0.3
        description: motion parameter
        reload_tier: tracker_restart
        reboot_required: false
      validation:
        type: object
        default:
          reinit_on_loss: true
          cooldown_after_reinit: 5
        description: validation parameter
        reload_tier: tracker_restart
        reboot_required: false
      debug:
        type: object
        default:
          enable_visual_feedback: true
          show_motion_vectors: false
        description: debug parameter
        reload_tier: tracker_restart
        reboot_required: false
  SmartTracker:
    display_name: Smart Tracker (YOLO)
    category: tracking
    icon: smart_toy
    parameters:
      SMART_TRACKER_ENABLED:
        type: boolean
        default: true
        description: "=== Detection Backend ===\n  # Which inference engine to use for object detection.\n  # Options: ultralytics"
        reload_tier: tracker_restart
        reboot_required: false
      DETECTION_BACKEND:
        type: string
        default: ultralytics
        description: === Hardware Selection ===
        reload_tier: tracker_restart
        reboot_required: false
      SMART_TRACKER_USE_GPU:
        type: boolean
        default: true
        description: Try GPU first (CUDA)
        reload_tier: system_restart
        reboot_required: true
        unit: cuda
      SMART_TRACKER_FALLBACK_TO_CPU:
        type: boolean
        default: true
        description: "Fall back if GPU fails\n\n  # === Model Paths ===\n  # \U0001F4C1 Use add_model.py to download/convert\
          \ models\n  # Simply replace these paths with your custom-trained detection model"
        reload_tier: tracker_restart
        reboot_required: false
      SMART_TRACKER_GPU_MODEL_PATH:
        type: string
        default: models/yolo26n.pt
        description: PyTorch model
        reload_tier: system_restart
        reboot_required: true
      SMART_TRACKER_CPU_MODEL_PATH:
        type: string
        default: models/yolo26n_ncnn_model
        description: "Optimized for ARM\n\n  # === Detection Parameters ==="
        reload_tier: system_restart
        reboot_required: true
      SMART_TRACKER_CONFIDENCE_THRESHOLD:
        type: float
        default: 0.3
        description: Min detection confidence (0.0-1.0)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        recommended_min: 0.15
        recommended_max: 0.7
      SMART_TRACKER_IOU_THRESHOLD:
        type: float
        default: 0.3
        description: Overlap threshold for NMS (0.0-1.0)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        recommended_min: 0.2
        recommended_max: 0.6
      SMART_TRACKER_MAX_DETECTIONS:
        type: integer
        default: 20
        description: Max objects per frame
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      SMART_TRACKER_MODEL_TASK_POLICY:
        type: string
        default: auto
        description: SMART_TRACKER_MODEL_TASK_POLICY parameter
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: auto
          label: auto
        - value: detect_only
          label: detect_only
        - value: allow_oriented
          label: allow_oriented
      SMART_TRACKER_GEOMETRY_OUTPUT_MODE:
        type: string
        default: hybrid
        description: SMART_TRACKER_GEOMETRY_OUTPUT_MODE parameter
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: legacy_aabb
          label: legacy_aabb
        - value: hybrid
          label: hybrid
        - value: oriented_preferred
          label: oriented_preferred
      SMART_TRACKER_DRAW_ORIENTED:
        type: boolean
        default: true
        description: Draw rotated overlays when available
        reload_tier: tracker_restart
        reboot_required: false
      SMART_TRACKER_SELECTION_MODE:
        type: string
        default: auto
        description: SMART_TRACKER_SELECTION_MODE parameter
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: auto
          label: auto
        - value: aabb
          label: aabb
        - value: oriented
          label: oriented
      SMART_TRACKER_MAX_ORIENTED_TRACKS:
        type: integer
        default: 100
        description: Graceful cap for OBB-heavy scenes
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      SMART_TRACKER_DISABLE_OBB_GLOBALLY:
        type: boolean
        default: false
        description: Emergency kill switch
        reload_tier: tracker_restart
        reboot_required: false
      SMART_TRACKER_OBB_AUTO_DISABLE_ERROR_RATE:
        type: float
        default: 0.001
        description: "Circuit breaker threshold\n\n  # === Visual Settings ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      SMART_TRACKER_COLOR:
        type: array
        default:
        - 0
        - 255
        - 255
        description: 'BGR: Yellow (legacy, unused in military HUD)'
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      SMART_TRACKER_SHOW_FPS:
        type: boolean
        default: false
        description: === HUD Style ===
        reload_tier: tracker_restart
        reboot_required: false
      SMART_TRACKER_HUD_STYLE:
        type: string
        default: military
        description: HUD rendering style for Smart Tracker overlay
        reload_tier: immediate
        reboot_required: false
        options:
        - value: military
          label: Military
          description: Modern military-grade HUD style
        - value: classic
          label: Classic
          description: Legacy HUD style
      SMART_TRACKER_ACTIVE_COLOR:
        type: array
        default:
        - 0
        - 255
        - 100
        description: BGR green for active target
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      SMART_TRACKER_PASSIVE_COLOR:
        type: array
        default:
        - 140
        - 140
        - 140
        description: BGR grey for untracked
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      SMART_TRACKER_LABEL_PLATE_OPACITY:
        type: float
        default: 0.7
        description: Background plate opacity (0.0-1.0)
        reload_tier: immediate
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        recommended_min: 0.4
        recommended_max: 0.9
      SMART_TRACKER_SHOW_PASSIVE_LABELS:
        type: boolean
        default: true
        description: "Labels on untracked detections\n\n  # ==============================================================================\n\
          \  # \U0001F3AF TRACKER TYPE SELECTION (Choose Your Tracking Strategy)\n  # ==============================================================================\n\
          \  #\n  # \U0001F4CA DECISION GUIDE:\n  #\n  # GPU System + Internet Access + Long Occlusions:\n  #   ‚Üí Use \"botsort_reid\"\
          \ (best accuracy, Ultralytics native ReID)\n  #\n  # CPU System / Raspberry Pi + Long Occlusions:\n  #   ‚Üí Use \"\
          custom_reid\" (lightweight, works offline, good re-ID on CPU)\n  #\n  # Air-gapped / Offline Drone:\n  #   ‚Üí Use\
          \ \"custom_reid\" (no internet needed, fully offline)\n  #\n  # High FPS Required (>30 FPS):\n  #   ‚Üí Use \"bytetrack\"\
          \ (fastest, disable ReID for maximum speed)\n  #\n  # Balanced Performance + Better Persistence:\n  #   ‚Üí Use \"\
          botsort\" (better than ByteTrack, no ReID overhead)\n  #\n  # \U0001F4CA PERFORMANCE COMPARISON:\n  #\n  # Tracker\
          \ Type    | FPS Impact | ReID Quality | Offline | GPU Needed | Ultralytics v8.3.114+\n  # ----------------|------------|--------------|---------|------------|----------------------\n\
          \  # bytetrack       | 0%         | None         | ‚úì       | No         | Any version\n  # botsort         | -3-5%\
          \      | Low          | ‚úì       | No         | Any version\n  # botsort_reid    | -5-8%      | Excellent    | ‚úó\
          \       | Recommended| Required\n  # custom_reid     | -8-12%     | Good         | ‚úì       | No         | Any version\n\
          \  #"
        reload_tier: tracker_restart
        reboot_required: false
        unit: fps
      TRACKER_TYPE:
        type: string
        default: botsort_reid
        description: Tracking algorithm selection
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: bytetrack
          label: ByteTrack
          description: Fast, no ReID, geometric matching only
        - value: botsort
          label: BoT-SORT
          description: Better persistence, no ReID
        - value: botsort_reid
          label: BoT-SORT + ReID
          description: Ultralytics native ReID (recommended for GPU)
        - value: custom_reid
          label: Custom ReID
          description: Lightweight histogram/HOG ReID (recommended for CPU/offline)
      BOTSORT_REID_MODEL:
        type: string
        default: auto
        description: "Appearance similarity threshold for ReID matching\n  # Lower = stricter matching (fewer false positives,\
          \ may miss correct matches)\n  # Higher = more lenient (more false positives, better recall)\n  # ‚ö†Ô∏è NOTE: Opposite\
          \ direction from APPEARANCE_MATCH_THRESHOLD!\n  # Recommended: 0.20-0.30"
        reload_tier: tracker_restart
        reboot_required: false
      BOTSORT_APPEARANCE_THRESH:
        type: float
        default: 0.25
        description: "IoU (geometric proximity) threshold for matching\n  # Works alongside appearance threshold\n  # Recommended:\
          \ 0.4-0.6"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BOTSORT_PROXIMITY_THRESH:
        type: float
        default: 0.5
        description: "Number of frames to remember lost tracks (for re-identification)\n  # Higher = can recover after longer\
          \ occlusions (uses more memory)\n  # Recommended: 30-120 frames\n  # 30 ‚âà 1 second, 60 ‚âà 2 seconds, 120 ‚âà 4 seconds\
          \ at 30 FPS"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      BOTSORT_TRACK_BUFFER:
        type: integer
        default: 60
        description: "IoU threshold for matching detections to existing tracks\n  # Higher = stricter (fewer ID switches)\n\
          \  # Lower = more lenient (better recovery)\n  # Recommended: 0.7-0.9"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      BOTSORT_MATCH_THRESH:
        type: float
        default: 0.8
        description: "High confidence detection threshold (first association pass)\n  # Recommended: 0.20-0.30"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BOTSORT_TRACK_HIGH_THRESH:
        type: float
        default: 0.25
        description: "Low confidence detection threshold (recovery pass)\n  # Recommended: 0.05-0.15"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BOTSORT_TRACK_LOW_THRESH:
        type: float
        default: 0.1
        description: "Minimum confidence for creating new tracks\n  # Lower = easier to start tracking\n  # Higher = only\
          \ track high-confidence objects\n  # Recommended: 0.20-0.30"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BOTSORT_NEW_TRACK_THRESH:
        type: float
        default: 0.25
        description: "Fuse detection confidence with IoU during matching\n  # true = better discrimination (recommended)\n\
          \  # false = pure geometric matching"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BOTSORT_FUSE_SCORE:
        type: boolean
        default: true
        description: "Camera motion compensation method\n  # \"sparseOptFlow\": Optical flow-based (recommended)\n  # \"none\"\
          : Disable (use if camera is stationary)"
        reload_tier: tracker_restart
        reboot_required: false
      BOTSORT_CMC_METHOD:
        type: string
        default: sparseOptFlow
        description: "==============================================================================\n  # \U0001F3AF ID TRACKING\
          \ ROBUSTNESS (Hybrid Strategy - Works with All Tracker Types)\n  # ==============================================================================\n\
          \  # These parameters make tracking more robust when objects temporarily disappear\n  # or when YOLO assigns new\
          \ IDs to the same object\n\n  # === Tracking Strategy ===\n  # How to match tracked object across frames when ID\
          \ changes\n  # - \"id_only\": Strict ID matching (fastest, but loses track on ID change)\n  # - \"spatial_only\"\
          : Position-based matching using IoU (works without IDs)\n  # - \"hybrid\": ID first, falls back to spatial matching\
          \ (RECOMMENDED)"
        reload_tier: tracker_restart
        reboot_required: false
        unit: recommended
      TRACKING_STRATEGY:
        type: string
        default: hybrid
        description: "=== ID Loss Tolerance ===\n  # Number of frames to maintain tracking after losing track ID\n  # Useful\
          \ when object is briefly occluded or detector misses 1-2 frames\n  # Higher = more forgiving, Lower = stricter (re-select\
          \ needed sooner)\n  # Recommended: 5-10 frames for drone tracking"
        reload_tier: tracker_restart
        reboot_required: false
      ID_LOSS_TOLERANCE_FRAMES:
        type: integer
        default: 5
        description: "=== Graceful Degradation (Robustness Enhancement) ===\n  # Multi-level fallback strategy when YOLO detection\
          \ fails"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      ENABLE_GRACEFUL_DEGRADATION:
        type: boolean
        default: true
        description: Enable multi-level fallback chain
        reload_tier: tracker_restart
        reboot_required: false
      EXTENDED_TOLERANCE_FRAMES:
        type: integer
        default: 10
        description: "Additional frames beyond ID_LOSS_TOLERANCE\n                                         # During this period:\
          \ lenient matching + prediction-only mode\n\n  # === Track Confidence Aging ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
      TRACK_CONFIDENCE_DECAY_RATE:
        type: float
        default: 0.05
        description: "Decay rate per frame without detection (5%)\n                                         # Old unconfirmed\
          \ tracks have lower confidence\n\n  # === Appearance Model Memory Cap ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MAX_LOST_OBJECTS_CACHED:
        type: integer
        default: 100
        description: "Maximum objects in re-ID memory\n                                         # Prevents unbounded memory\
          \ growth\n\n  # === Spatial Matching ===\n  # IoU threshold for matching by position when ID is lost\n  # Higher\
          \ = stricter matching (less false positives)\n  # Lower = more lenient (might match wrong object)\n  # Range: 0.0-1.0,\
          \ Recommended: 0.3-0.5"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      SPATIAL_IOU_THRESHOLD:
        type: float
        default: 0.35
        description: "=== Motion Prediction ===\n  # Use velocity-based prediction to estimate object location during occlusion\n\
          \  # Helps find object even if it moves while temporarily invisible\n  # true = more robust to occlusions, false\
          \ = simpler/faster"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_PREDICTION_BUFFER:
        type: boolean
        default: true
        description: "=== Confidence Smoothing ===\n  # Apply exponential moving average to detection confidence\n  # Reduces\
          \ jitter from frame-to-frame confidence variations\n  # Higher = more smoothing, Lower = more responsive\n  # Range:\
          \ 0.0-1.0, Recommended: 0.7-0.9"
        reload_tier: tracker_restart
        reboot_required: false
      CONFIDENCE_SMOOTHING_ALPHA:
        type: float
        default: 0.8
        description: "=== Kalman Filter State Estimator ===\n  # Replaces simple motion prediction with a proper Kalman filter\
          \ for continuous\n  # position estimation during occlusion. Uses the same constant-velocity model\n  # as SORT,\
          \ DeepSORT, and ByteTrack. Provides continuous prediction without\n  # the 5-frame limit of the legacy MotionPredictor."
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_KALMAN_FILTER:
        type: boolean
        default: true
        description: ENABLE_KALMAN_FILTER parameter
        reload_tier: tracker_restart
        reboot_required: false
      KALMAN_PROCESS_NOISE:
        type: float
        default: 1.0
        description: Process noise scale (higher = trust model less)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      KALMAN_MEASUREMENT_NOISE:
        type: float
        default: 1.0
        description: "Measurement noise scale (higher = trust detections less)\n\n  # === Center-Distance Matching ===\n \
          \ # Fallback when IoU is zero (fast-moving objects that displaced beyond overlap).\n  # Matches by Euclidean center\
          \ distance normalized to object diagonal.\n  # Threshold is adaptive: expands with frames_lost * SEARCH_EXPANSION_RATE"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_CENTER_DISTANCE_MATCHING:
        type: boolean
        default: true
        description: ENABLE_CENTER_DISTANCE_MATCHING parameter
        reload_tier: tracker_restart
        reboot_required: false
      CENTER_DISTANCE_THRESHOLD:
        type: float
        default: 2.0
        description: "Max center distance as multiple of object diagonal\n\n  # === Class Flexibility ===\n  # YOLO frequently\
          \ flickers between similar classes (car<->truck, person<->pedestrian).\n  # When enabled, tracking continues even\
          \ if class_id changes, as long as it appeared\n  # in the recent class history buffer."
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      CLASS_MATCH_FLEXIBLE:
        type: boolean
        default: true
        description: CLASS_MATCH_FLEXIBLE parameter
        reload_tier: tracker_restart
        reboot_required: false
      CLASS_HISTORY_SIZE:
        type: integer
        default: 10
        description: "Number of recent class observations to remember\n\n  # === Search Expansion During Loss ===\n  # When\
          \ the target is lost, gradually expand the spatial search radius per frame.\n  # This handles cases where the object\
          \ took an unpredictable path during occlusion.\n  # Expansion = min(frames_lost * rate, cap)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
      SEARCH_EXPANSION_RATE:
        type: float
        default: 0.2
        description: "Bbox/distance expansion rate per frame\n\n  # === Appearance Position Gating ===\n  # Limits appearance\
          \ (ReID) matching to candidates within plausible distance from\n  # the predicted position. Prevents false matches\
          \ with similar objects far away.\n  # Gate distance = object_diagonal * factor * (1 + frames_lost * expansion)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      APPEARANCE_DISTANCE_GATE_FACTOR:
        type: float
        default: 3.0
        description: "==============================================================================\n  # \U0001F510 RE-ACQUISITION\
          \ & IDENTITY VERIFICATION\n  # ==============================================================================\n\
          \  # Controls how strictly the tracker verifies identity when re-acquiring a target\n  # after extended loss. Prevents\
          \ false tracking of wrong objects.\n  #\n  # \"aggressive\": Accept any compatible-class match immediately (fastest\
          \ recovery,\n  #               best when tracking generic class like \"any car\")\n  # \"balanced\":   Require size\
          \ consistency + appearance check for distance matches\n  #               after long loss (DEFAULT ‚Äî good for most\
          \ scenarios)\n  # \"strict\":     Require appearance confirmation for ALL re-acquisitions after\n  #           \
          \    long loss (best when tracking a specific individual)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      REACQUISITION_MODE:
        type: string
        default: balanced
        description: "Maximum area ratio change allowed for re-acquisition size consistency check.\n  # Detection area / reference\
          \ area must be within [1/ratio, ratio].\n  # 2.5 = allows up to 250% area change (handles scale variation from distance)\n\
          \  # Range: 1.5-5.0, Recommended: 2.0-3.0"
        reload_tier: tracker_restart
        reboot_required: false
      MAX_SIZE_CHANGE_RATIO:
        type: float
        default: 2.5
        description: "Consecutive frames a re-acquired target must be detected before confirming.\n  # Prevents committing\
          \ to a wrong target after a single frame match.\n  # Only applies in \"balanced\" and \"strict\" modes after long\
          \ loss.\n  # Range: 1-10, Recommended: 2-5"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      REACQUISITION_CONFIRM_FRAMES:
        type: integer
        default: 3
        description: "Fraction of frame dimension to consider \"near the exit edge\" for out-of-frame return.\n  # 0.15 =\
          \ within 15% of frame width/height from the edge where target exited.\n  # Range: 0.05-0.30, Recommended: 0.10-0.20"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      EXIT_EDGE_MARGIN:
        type: float
        default: 0.15
        description: "==============================================================================\n  # \U0001F527 SEARCH\
          \ & RECOVERY TUNING\n  # ==============================================================================\n\n  # Max\
          \ search expansion multiplier for normal spatial matching.\n  # Expansion = min(frames_lost * SEARCH_EXPANSION_RATE,\
          \ this cap)\n  # Range: 1.0-5.0, Recommended: 1.5-3.0"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      SEARCH_EXPANSION_CAP:
        type: float
        default: 2.0
        description: "Max search expansion multiplier for lenient recovery matching.\n  # Used during extended tolerance period\
          \ (after ID_LOSS_TOLERANCE_FRAMES).\n  # Range: 2.0-8.0, Recommended: 2.5-4.0"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      LENIENT_SEARCH_EXPANSION_CAP:
        type: float
        default: 3.0
        description: "Scale factor applied to SPATIAL_IOU_THRESHOLD for lenient matching.\n  # Lenient IoU = max(LENIENT_IOU_FLOOR,\
          \ SPATIAL_IOU_THRESHOLD * this)\n  # Range: 0.2-0.6, Recommended: 0.3-0.5"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      LENIENT_IOU_SCALE:
        type: float
        default: 0.4
        description: "Minimum IoU threshold floor during lenient recovery.\n  # Prevents threshold from dropping to near-zero.\n\
          \  # Range: 0.05-0.20, Recommended: 0.08-0.15"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      LENIENT_IOU_FLOOR:
        type: float
        default: 0.1
        description: "Floor confidence value in prediction-only mode (no detection, Kalman only).\n  # Prevents confidence\
          \ from reaching zero during extended prediction.\n  # Range: 0.05-0.20, Recommended: 0.08-0.15"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MIN_PREDICTION_CONFIDENCE:
        type: float
        default: 0.1
        description: "Only log re-acquisition events when target was lost for more than this many frames.\n  # Reduces log\
          \ noise from normal 1-2 frame detection gaps.\n  # Range: 1-10, Recommended: 2-5"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      REACQUISITION_LOG_THRESHOLD:
        type: integer
        default: 3
        description: "==============================================================================\n  # \U0001F527 BYTETRACK\
          \ ADVANCED TUNING\n  # ==============================================================================\n  # These\
          \ parameters control ByteTrack's internal tracking behavior\n  # Normally you don't need to change these, but they're\
          \ here for fine-tuning\n\n  # === Track Persistence ===\n  # Number of frames to keep track alive after losing detection\n\
          \  # Higher = tracks survive longer occlusions\n  # Lower = faster cleanup of lost tracks\n  # Default: 30, Recommended\
          \ for robust tracking: 50"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
        unit: s
      BYTETRACK_TRACK_BUFFER:
        type: integer
        default: 50
        description: "=== Track Matching ===\n  # IoU threshold for matching detections to existing tracks\n  # Higher = stricter\
          \ matching (less ID switches)\n  # Lower = more lenient (may cause ID switches)\n  # Range: 0.0-1.0, Recommended:\
          \ 0.8"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      BYTETRACK_MATCH_THRESH:
        type: float
        default: 0.8
        description: "=== New Track Creation ===\n  # Confidence threshold for creating new tracks from detections\n  # Lower\
          \ = easier to start tracking new objects (good for re-acquisition)\n  # Higher = only track high-confidence detections\
          \ (fewer false positives)\n  # Range: 0.0-1.0, Recommended: 0.20-0.25"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BYTETRACK_NEW_TRACK_THRESH:
        type: float
        default: 0.2
        description: "=== High/Low Confidence Thresholds ===\n  # ByteTrack uses two-stage association (high conf ‚Üí low conf)\n\
          \  # High threshold: First association pass (confident detections)\n  # Low threshold: Second association pass (recover\
          \ lost tracks)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BYTETRACK_TRACK_HIGH_THRESH:
        type: float
        default: 0.25
        description: BYTETRACK_TRACK_HIGH_THRESH parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BYTETRACK_TRACK_LOW_THRESH:
        type: float
        default: 0.1
        description: "=== Score Fusion ===\n  # Combine detection confidence with IoU distance during matching\n  # true =\
          \ better handling of similar objects\n  # false = pure geometric matching"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      BYTETRACK_FUSE_SCORE:
        type: boolean
        default: true
        description: "==============================================================================\n  # \U0001F3A8 APPEARANCE-BASED\
          \ RE-IDENTIFICATION (Advanced Feature)\n  # ==============================================================================\n\
          \  # Enables object re-identification after long occlusions using visual appearance\n  # Useful when object disappears\
          \ for >5 frames and returns with different ID\n  # Maintains original track ID even after long disappearances\n\n\
          \  # === Feature Toggle ===\n  # Set to false on low-performance boards (Raspberry Pi Zero, older ARM)\n  # Adds\
          \ ~5-10ms per frame overhead on modern hardware"
        reload_tier: tracker_restart
        reboot_required: false
      ENABLE_APPEARANCE_MODEL:
        type: boolean
        default: true
        description: "=== Similarity Threshold ===\n  # How similar appearances must be to consider a match (0.0-1.0)\n  #\
          \ Higher = stricter matching (fewer false positives, may miss correct matches)\n  # Lower = more lenient (more false\
          \ positives, better recall)\n  # Recommended values:\n  #   - 0.8-0.9: Very strict (use when objects look very similar)\n\
          \  #   - 0.6-0.7: Balanced (recommended for most scenarios)\n  #   - 0.4-0.5: Lenient (use when lighting/angle changes\
          \ dramatically)"
        reload_tier: tracker_restart
        reboot_required: false
      APPEARANCE_MATCH_THRESHOLD:
        type: float
        default: 0.7
        description: "=== Feature Extraction Method ===\n  # Determines what visual features are used for matching\n  # \"\
          histogram\": Fast, color-based matching\n  #   - Best for: Objects with distinct colors\n  #   - Speed: Fastest\
          \ (~2-3ms per object)\n  #   - Accuracy: Good for color-distinct objects\n  #   - Recommended for: Embedded systems,\
          \ colored targets\n  #\n  # \"hog\": Shape/texture-based matching (Histogram of Oriented Gradients)\n  #   - Best\
          \ for: Similar colors but different shapes\n  #   - Speed: Moderate (~5-7ms per object)\n  #   - Accuracy: Better\
          \ for shape discrimination\n  #   - Recommended for: Monochrome or similar-colored objects\n  #\n  # \"hybrid\"\
          : Combines histogram + HOG features\n  #   - Best for: Maximum accuracy in challenging scenarios\n  #   - Speed:\
          \ Slower (~8-10ms per object)\n  #   - Accuracy: Highest overall\n  #   - Recommended for: Powerful hardware, critical\
          \ applications"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      APPEARANCE_FEATURE_TYPE:
        type: string
        default: histogram
        description: "=== Memory Window ===\n  # How long to remember lost objects (in frames)\n  # Object features are stored\
          \ for this duration after losing track\n  # Higher = can re-identify after longer occlusions (uses more memory ~1KB\
          \ per object)\n  # Lower = faster cleanup, less memory usage\n  # Recommended values:\n  #   - 30 frames: ~1 second\
          \ at 30 FPS (good for brief occlusions)\n  #   - 60 frames: ~2 seconds (balanced)\n  #   - 150 frames: ~5 seconds\
          \ (long occlusions, uses more memory)"
        reload_tier: tracker_restart
        reboot_required: false
        unit: fps
      MAX_REIDENTIFICATION_FRAMES:
        type: integer
        default: 30
        description: "=== Adaptive Learning ===\n  # Update appearance model during successful tracking\n  # Helps adapt to\
          \ gradual changes in lighting, viewing angle, or object appearance\n  # true = model adapts over time (better for\
          \ changing conditions)\n  # false = uses initial appearance only (more consistent but rigid)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      APPEARANCE_ADAPTIVE_LEARNING:
        type: boolean
        default: true
        description: "Learning rate for adaptive updates (0.0-1.0)\n  # Higher = faster adaptation to changes (may drift from\
          \ original appearance)\n  # Lower = slower adaptation (more stable, less responsive to changes)\n  # Recommended:\
          \ 0.05-0.15"
        reload_tier: tracker_restart
        reboot_required: false
      APPEARANCE_LEARNING_RATE:
        type: float
        default: 0.1
        description: "=== HOG Feature Parameters ===\n  # Only used when APPEARANCE_FEATURE_TYPE = \"hog\" or \"hybrid\"\n\
          \  # Histogram of Oriented Gradients configuration for shape-based matching"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      HOG_WIN_SIZE:
        type: array
        default:
        - 64
        - 64
        description: ROI resize dimensions (width, height)
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      HOG_BLOCK_SIZE:
        type: array
        default:
        - 16
        - 16
        description: Block size for normalization
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      HOG_BLOCK_STRIDE:
        type: array
        default:
        - 8
        - 8
        description: Step size for block overlap
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      HOG_CELL_SIZE:
        type: array
        default:
        - 8
        - 8
        description: Cell size within blocks
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      HOG_NBINS:
        type: integer
        default: 9
        description: HOG_NBINS parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 180
        options:
        - value: Number
          label: Number
        - value: hybrid
          label: hybrid
      HIST_H_BINS:
        type: integer
        default: 30
        description: Hue channel bins (H in HSV)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
        unit: h in hsv
      HIST_S_BINS:
        type: integer
        default: 32
        description: "Saturation channel bins (S in HSV)\n\n  # === Performance Profiling ===\n  # Enable profiling to measure\
          \ feature extraction and matching performance"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
        unit: s
      ENABLE_APPEARANCE_PROFILING:
        type: boolean
        default: false
        description: 'true = log timing metrics to console



          # ==============================================================================

          # GIMBAL TRACKER CONFIGURATION (New Feature)

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
  GimbalTracker:
    display_name: Gimbal Tracker
    category: tracking
    icon: control_camera
    parameters:
      ENABLED:
        type: boolean
        default: true
        description: Network configuration for gimbal UDP communication
        reload_tier: tracker_restart
        reboot_required: false
      UDP_HOST:
        type: string
        default: 192.168.0.108
        description: Gimbal IP address
        reload_tier: tracker_restart
        reboot_required: false
      UDP_PORT:
        type: integer
        default: 9003
        description: Gimbal UDP port
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000000
      CONNECTION_TIMEOUT:
        type: float
        default: 5.0
        description: "Connection timeout in seconds\n\n  # Data quality and recovery parameters"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      data_timeout_seconds:
        type: float
        default: 5.0
        description: Show cached data for up to N seconds when connection lost
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      max_consecutive_failures:
        type: integer
        default: 10
        description: 'Warning threshold for consecutive data reception failures


          # Global gimbal parameters (accessed by GimbalTracker and GimbalInterface)'
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
  GIMBAL_UDP_HOST:
    type: string
    default: 192.168.0.108
    description: Gimbal IP address
    reload_tier: system_restart
    reboot_required: true
  GIMBAL_LISTEN_PORT:
    type: integer
    default: 9004
    description: Port for listening to gimbal data
    reload_tier: system_restart
    reboot_required: true
    min: 0
    max: 1000000
  GIMBAL_COORDINATE_SYSTEM:
    type: string
    default: GIMBAL_BODY
    description: Coordinate system preference
    reload_tier: system_restart
    reboot_required: true
  GIMBAL_DISABLE_ESTIMATOR:
    type: boolean
    default: true
    description: Disable Kalman estimator for gimbal
    reload_tier: system_restart
    reboot_required: true
  GimbalTrackerSettings:
    display_name: Gimbal Tracker Settings
    category: tracking
    icon: settings
    parameters:
      COORDINATE_SYSTEM:
        type: string
        default: GIMBAL_BODY
        description: '# Camera mount offsets (degrees relative to aircraft body frame)'
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: GIMBAL_BODY
          label: GIMBAL_BODY
        - value: SPATIAL_FIXED
          label: SPATIAL_FIXED
        unit: deg
      CAMERA_MOUNT_OFFSET_ROLL:
        type: float
        default: 0.0
        description: Roll offset
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      CAMERA_MOUNT_OFFSET_PITCH:
        type: float
        default: 0.0
        description: Pitch offset (+ = nose down from aircraft)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      CAMERA_MOUNT_OFFSET_YAW:
        type: float
        default: 0.0
        description: "Yaw offset (+ = right from aircraft nose)\n\n  # Validation limits"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      YAW_LIMIT:
        type: float
        default: 180.0
        description: Maximum yaw angle (degrees)
        reload_tier: tracker_restart
        reboot_required: false
        min: -10000.0
        max: 10000.0
        step: 0.1
        unit: deg
      PITCH_LIMIT:
        type: float
        default: 90.0
        description: Maximum pitch angle (degrees)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      ROLL_LIMIT:
        type: float
        default: 180.0
        description: "Maximum roll angle (degrees)\n\n  # Processing configuration"
        reload_tier: tracker_restart
        reboot_required: false
        min: -10000.0
        max: 10000.0
        step: 0.1
        unit: deg
      SUPPRESS_DETECTOR:
        type: boolean
        default: true
        description: Disable image detector (not needed for gimbal)
        reload_tier: tracker_restart
        reboot_required: false
      SUPPRESS_PREDICTOR:
        type: boolean
        default: true
        description: Disable predictor (not needed for gimbal)
        reload_tier: tracker_restart
        reboot_required: false
      DISABLE_ESTIMATOR:
        type: boolean
        default: true
        description: "Disable Kalman estimator (gimbal provides direct data)\n\n  # Data quality parameters"
        reload_tier: tracker_restart
        reboot_required: false
      MAX_DATA_AGE:
        type: float
        default: 5.0
        description: 'Maximum age of data to consider valid (seconds)



          # ==============================================================================

          # FOLLOWER MODE (Drone Following Behavior)

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
  Follower:
    display_name: Follower
    category: other
    icon: settings
    parameters:
      USE_MAVLINK2REST:
        type: boolean
        default: true
        description: Use REST API for MAVLink
        reload_tier: system_restart
        reboot_required: true
      FOLLOWER_DATA_REFRESH_RATE:
        type: integer
        default: 5
        description: "Hz\n\n  # === Target Selection ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
        unit: hz
      ROI_SELECTION_MODE:
        type: string
        default: MANUAL
        description: ROI_SELECTION_MODE parameter
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: MANUAL
          label: MANUAL
        - value: AUTO
          label: AUTO
      TARGET_POSITION_MODE:
        type: string
        default: center
        description: 'Options: center, top, bottom # === Following Mode === # # Deprecated (still work): ground_view, constant_distance,
          constant_position, body_velocity_chase, gimbal_vector_body'
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: mc_velocity_ground
          label: mc_velocity_ground
        - value: mc_velocity_distance
          label: mc_velocity_distance
        - value: mc_velocity_position
          label: mc_velocity_position
        - value: mc_velocity_chase
          label: mc_velocity_chase
        - value: mc_attitude_rate
          label: mc_attitude_rate
        - value: fw_attitude_rate
          label: fw_attitude_rate
        - value: gm_velocity_chase
          label: gm_velocity_chase
        - value: gm_velocity_vector
          label: gm_velocity_vector
      FOLLOWER_MODE:
        type: string
        default: mc_velocity_position
        description: === Visualization ===
        reload_tier: system_restart
        reboot_required: true
      SHOW_TRACKING_WINDOW:
        type: boolean
        default: false
        description: Debug window
        reload_tier: system_restart
        reboot_required: true
      DISPLAY_DEVIATIONS:
        type: boolean
        default: false
        description: Show error vectors
        reload_tier: system_restart
        reboot_required: true
      TRACKED_BBOX_STYLE:
        type: string
        default: fancy
        description: TRACKED_BBOX_STYLE parameter
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: simple
          label: simple
        - value: fancy
          label: fancy
      FOLLOWER_ACTIVE_COLOR:
        type: array
        default:
        - 0
        - 0
        - 255
        description: 'BGR: Red when active'
        reload_tier: system_restart
        reboot_required: true
        item_type: number
        min_items: 0
        max_items: 20
      FOLLOWER_INACTIVE_COLOR:
        type: array
        default:
        - 0
        - 255
        - 255
        description: 'BGR: Yellow when inactive'
        reload_tier: system_restart
        reboot_required: true
        item_type: number
        min_items: 0
        max_items: 20
      BBOX_LINE_THICKNESS:
        type: integer
        default: 2
        description: BBOX_LINE_THICKNESS parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      EXTENDED_LINE_THICKNESS:
        type: integer
        default: 2
        description: EXTENDED_LINE_THICKNESS parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      CORNER_DOT_RADIUS:
        type: integer
        default: 4
        description: CORNER_DOT_RADIUS parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      CROSSHAIR_ARM_LENGTH:
        type: integer
        default: 20
        description: CROSSHAIR_ARM_LENGTH parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      BBOX_CORNER_ARM_LENGTH:
        type: integer
        default: 20
        description: BBOX_CORNER_ARM_LENGTH parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      OVERLAY_OPACITY:
        type: integer
        default: 128
        description: '=== Circuit Breaker (Safety & Testing) ===

          # SAFETY FIRST: Global circuit breaker for follower testing without drone commands

          # Default: true (SAFE) - Only set to false when you explicitly want to send real commands'
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
  FOLLOWER_CIRCUIT_BREAKER:
    type: boolean
    default: true
    description: true = SAFE (log only), false = LIVE (send commands)
    reload_tier: system_restart
    reboot_required: true
    unit: send commands
  CIRCUIT_BREAKER_DISABLE_SAFETY:
    type: boolean
    default: false
    description: 'Skip ALL safety checks in CB test mode (set true for ground testing only)



      # ==============================================================================

      # GIMBAL PID PURSUIT FOLLOWER CONFIGURATION

      # =============================================================================='
    reload_tier: system_restart
    reboot_required: true
  GM_VELOCITY_CHASE:
    display_name: Gimbal Velocity Chase
    category: follower
    icon: control_camera
    parameters:
      MOUNT_TYPE:
        type: string
        default: HORIZONTAL
        description: MOUNT_TYPE parameter
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: HORIZONTAL
          label: HORIZONTAL
        - value: VERTICAL
          label: VERTICAL
      CONTROL_MODE:
        type: string
        default: BODY
        description: CONTROL_MODE parameter
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: NED
          label: NED
        - value: BODY
          label: BODY
      ROLL_RIGHT_SIGN:
        type: string
        default: NEGATIVE
        description: '# === Required Tracker Fields ==='
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: NEGATIVE
          label: NEGATIVE
      REQUIRED_TRACKER_FIELDS:
        type: array
        default:
        - angular
        description: "Must have angular data from gimbal\n\n  # === Forward Velocity Control System ===\n  # Based on 2024\
          \ guidance control research for reliable target interception\n  # NOTE: Max velocity limits are now in Safety.GlobalLimits"
        reload_tier: follower_restart
        reboot_required: false
        item_type: string
      FORWARD_VELOCITY_MODE:
        type: string
        default: CONSTANT
        description: (future)
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: CONSTANT
          label: CONSTANT
        - value: PITCH_BASED
          label: PITCH_BASED
        - value: PROPORTIONAL_NAV
          label: PROPORTIONAL_NAV
        unit: future
      BASE_FORWARD_SPEED:
        type: float
        default: 2.0
        description: Constant forward speed (m/s)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      FORWARD_ACCELERATION:
        type: float
        default: 2.0
        description: "Ramp rate from current to target speed (m/s¬≤)\n\n  # === Lateral Guidance Mode ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s¬≤
      LATERAL_GUIDANCE_MODE:
        type: string
        default: coordinated_turn
        description: LATERAL_GUIDANCE_MODE parameter
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: coordinated_turn
          label: coordinated_turn
        - value: sideslip
          label: sideslip
      ENABLE_AUTO_MODE_SWITCHING:
        type: boolean
        default: false
        description: Auto-switch based on forward velocity
        reload_tier: follower_restart
        reboot_required: false
      GUIDANCE_MODE_SWITCH_VELOCITY:
        type: float
        default: 3.0
        description: "Switch velocity threshold (m/s)\n\n  # === Yaw Rate Smoothing (Enterprise-Grade) ===\n  # MAX_YAW_RATE\
          \ now sourced from Safety.GlobalLimits (deg/s ‚Üí rad/s via SafetyManager)\n  # Configurable smoothing pipeline for\
          \ smooth, professional yaw control\n  # All parameters are configurable - no hardcoded values"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      YAW_SMOOTHING:
        type: object
        default:
          ENABLED: true
          DEADZONE_DEG_S: 0.5
          MAX_RATE_CHANGE_DEG_S2: 90.0
          SMOOTHING_ALPHA: 0.7
          ENABLE_SPEED_SCALING: true
          MIN_SPEED_THRESHOLD: 0.5
          MAX_SPEED_THRESHOLD: 5.0
          LOW_SPEED_YAW_FACTOR: 0.5
        description: YAW_SMOOTHING parameter
        reload_tier: follower_restart
        reboot_required: false
      MODE_SWITCH_HYSTERESIS:
        type: float
        default: 0.5
        description: m/s - hysteresis band around switch velocity
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s
      MIN_MODE_SWITCH_INTERVAL:
        type: float
        default: 2.0
        description: "seconds - minimum time between mode switches\n\n  # === Target Loss Handling ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      TARGET_LOSS_HANDLING:
        type: object
        default:
          CONTINUE_VELOCITY_TIMEOUT: 3.0
          ENABLE_RTL_ON_TIMEOUT: true
          RTL_ALTITUDE: 50.0
          ENABLE_ADAPTIVE_TIMEOUT: true
          ADAPTIVE_TIMEOUT_FACTOR: 1.5
          ENABLE_PREDICTIVE_VELOCITY: true
          PREDICTION_HISTORY_SIZE: 5
          CONFIDENCE_TIMEOUT_ADJUSTMENT: true
          HIGH_CONFIDENCE_THRESHOLD: 0.8
          LOW_CONFIDENCE_THRESHOLD: 0.3
        description: TARGET_LOSS_HANDLING parameter
        reload_tier: follower_restart
        reboot_required: false
      SAFETY_RETURN_SPEED:
        type: float
        default: 3.0
        description: "Velocity when returning to safe altitude (m/s)\n\n  # === Coordinate Transformation ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      ANGLE_DEADZONE:
        type: float
        default: 2.0
        description: "Ignore gimbal movements below this (degrees)\n\n  # === Enhanced Transformation Parameters ===\n  #\
          \ NOTE: NEUTRAL_PITCH_ANGLE is now handled automatically based on MOUNT_TYPE\n  # VERTICAL mount: neutral = 90¬∞\
          \ (level), HORIZONTAL mount: uses configured value"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      NEUTRAL_PITCH_ANGLE:
        type: float
        default: 0.0
        description: Neutral pitch angle for HORIZONTAL mount only (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: -90.0
        max: 90.0
        step: 0.5
        unit: deg
      PITCH_VELOCITY_SCALING:
        type: float
        default: 0.15
        description: Pitch error to velocity scaling factor
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PITCH_DEADZONE_DEGREES:
        type: float
        default: 2.0
        description: Pitch deadzone to prevent jitter (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      MAX_ROLL_ANGLE:
        type: float
        default: 90.0
        description: Maximum expected roll range (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      MAX_PITCH_ANGLE:
        type: float
        default: 90.0
        description: Maximum expected pitch range (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      INVERT_LATERAL_CONTROL:
        type: boolean
        default: false
        description: Invert lateral control for different gimbal orientations
        reload_tier: follower_restart
        reboot_required: false
      INVERT_VERTICAL_CONTROL:
        type: boolean
        default: true
        description: "Invert vertical control for different gimbal orientations\n\n  # === Default Values for Optional Features\
          \ ==="
        reload_tier: follower_restart
        reboot_required: false
      DEFAULT_THRUST:
        type: float
        default: 0.5
        description: "Default thrust for attitude rate control mode\n\n  # === Performance ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      CONTROL_UPDATE_RATE:
        type: float
        default: 20.0
        description: Control loop frequency (Hz)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Enable velocity command smoothing
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.8
        description: 'Smoothing coefficient (0-1)


          # ==============================================================================

          # GIMBAL VECTOR BODY FOLLOWER CONFIGURATION

          # ==============================================================================

          # Direct vector pursuit using gimbal angles transformed to body-frame velocity

          # No PID tuning required - deterministic geometric control'
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
  GM_VELOCITY_VECTOR:
    display_name: Gimbal Velocity Vector
    category: follower
    icon: control_camera
    parameters:
      MOUNT_TYPE:
        type: string
        default: HORIZONTAL
        description: '# === Velocity Scaling (Linear Ramp) === # Direct vector pursuit: gimbal angle ‚Üí unit vector ‚Üí scaled
          velocity # NOTE: Max velocity limits are now in Safety.GlobalLimits (single source of truth)'
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: VERTICAL
          label: VERTICAL
        - value: HORIZONTAL
          label: HORIZONTAL
        - value: TILTED_45
          label: TILTED_45
      RAMP_ACCELERATION:
        type: float
        default: 0.25
        description: Velocity ramp-up acceleration rate (m/s¬≤)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 20.0
        step: 0.05
        unit: m/s¬≤
      INITIAL_VELOCITY:
        type: float
        default: 0.0
        description: Initial forward velocity when target acquired (m/s)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 30.0
        step: 0.1
        unit: m/s
      ENABLE_ALTITUDE_CONTROL:
        type: boolean
        default: false
        description: true = 3D vector pursuit, false = horizontal only
        reload_tier: follower_restart
        reboot_required: false
      YAW_RATE_GAIN:
        type: float
        default: 0.5
        description: "Yaw rate proportional gain for coordinated_turn mode\n\n  # === LATERAL GUIDANCE MODES (v5.6.0) ===\n\
          \  # Two strategies for lateral target tracking:\n  # - sideslip: Direct lateral velocity (v_right from gimbal,\
          \ yaw_rate = 0)\n  #   Best for: Precision hovering, close proximity, confined spaces\n  # - coordinated_turn: Turn-to-track\
          \ (v_right = 0, yaw_rate from gimbal yaw)\n  #   Best for: Forward flight efficiency, natural behavior, wind resistance"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      LATERAL_GUIDANCE_MODE:
        type: string
        default: sideslip
        description: "sideslip | coordinated_turn\n\n  # === Auto Mode Switching (Optional) ===\n  # Automatically switch\
          \ between modes based on forward velocity"
        reload_tier: follower_restart
        reboot_required: false
      ENABLE_AUTO_MODE_SWITCHING:
        type: boolean
        default: false
        description: Disabled by default (conservative)
        reload_tier: follower_restart
        reboot_required: false
        unit: conservative
      GUIDANCE_MODE_SWITCH_VELOCITY:
        type: float
        default: 3.0
        description: "m/s - switch threshold\n\n  # === Mode Switch Hysteresis ===\n  # Prevents oscillation when velocity\
          \ is near the mode switch threshold"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      MODE_SWITCH_HYSTERESIS:
        type: float
        default: 0.5
        description: m/s - hysteresis band around switch velocity
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s
      MIN_MODE_SWITCH_INTERVAL:
        type: float
        default: 2.0
        description: "seconds - minimum time between mode switches\n\n  # === Yaw Rate Smoothing (Enterprise-Grade) ===\n\
          \  # Configurable smoothing pipeline for smooth, professional yaw control\n  # Applied in coordinated_turn mode\
          \ for smooth heading changes"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      YAW_SMOOTHING:
        type: object
        default:
          ENABLED: true
          DEADZONE_DEG_S: 0.5
          MAX_RATE_CHANGE_DEG_S2: 90.0
          SMOOTHING_ALPHA: 0.7
          ENABLE_SPEED_SCALING: true
          MIN_SPEED_THRESHOLD: 0.5
          MAX_SPEED_THRESHOLD: 5.0
          LOW_SPEED_YAW_FACTOR: 0.5
        description: YAW_SMOOTHING parameter
        reload_tier: follower_restart
        reboot_required: false
      ANGLE_DEADZONE_DEG:
        type: float
        default: 2.0
        description: Ignore gimbal movements below this threshold (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      ANGLE_SMOOTHING_ALPHA:
        type: float
        default: 0.7
        description: "EMA filter coefficient (0-1, higher = smoother)\n                                          # Recommended:\
          \ 0.6-0.8 for typical gimbals\n\n  # === Altitude Safety (Optional Enforcement) ===\n  # Enable altitude monitoring\
          \ and enforcement\n  # Uses unified naming: MIN_ALTITUDE, MAX_ALTITUDE (overrides Safety.GlobalLimits if set)\n\
          \  # Resolution: Follower Override ‚Üí Safety.GlobalLimits ‚Üí Hardcoded Fallbacks\n  # ALTITUDE_SAFETY_ENABLED, RTL_ON_ALTITUDE_VIOLATION,\
          \ EMERGENCY_STOP_ENABLED, MAX_SAFETY_VIOLATIONS\n  # are now sourced from Safety.GlobalLimits (with per-follower\
          \ overrides in Safety.FollowerOverrides)\n  # MIN_ALTITUDE: 3.0                     # Override global minimum altitude\
          \ (meters)\n  # MAX_ALTITUDE: 120.0                   # Override global maximum altitude (meters)"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: meters
      ALTITUDE_CHECK_INTERVAL:
        type: float
        default: 1.0
        description: How often to check altitude safety (seconds)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.01
        max: 60.0
        step: 0.1
        unit: s
      TARGET_LOSS_TIMEOUT:
        type: float
        default: 3.0
        description: seconds - coast duration before stopping
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      ENABLE_VELOCITY_DECAY:
        type: boolean
        default: true
        description: Gradually reduce velocity during loss
        reload_tier: follower_restart
        reboot_required: false
      VELOCITY_DECAY_RATE:
        type: float
        default: 0.5
        description: "m/s¬≤ - deceleration rate during target loss\n\n  # === Performance ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s¬≤
      CONTROL_UPDATE_RATE:
        type: float
        default: 20.0
        description: Hz - control loop frequency
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Smooth velocity command transitions
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.8
        description: "Smoothing coefficient (0-1)\n\n  # === Advanced: Mount Calibration Overrides (Expert Users Only) ===\n\
          \  # Leave at 0.0 to use preset transformations from MOUNT_TYPE\n  # Only adjust if gimbal is mounted at non-standard\
          \ angles"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MOUNT_ROLL_OFFSET_DEG:
        type: float
        default: 0.0
        description: Roll offset to correct physical gimbal mount misalignment (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: -180.0
        max: 180.0
        step: 0.5
        unit: deg
      MOUNT_PITCH_OFFSET_DEG:
        type: float
        default: 0.0
        description: Pitch offset to correct physical gimbal mount misalignment (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: -180.0
        max: 180.0
        step: 0.5
        unit: deg
      MOUNT_YAW_OFFSET_DEG:
        type: float
        default: 0.0
        description: Yaw offset to correct physical gimbal mount misalignment (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: -180.0
        max: 180.0
        step: 0.5
        unit: deg
      INVERT_GIMBAL_ROLL:
        type: boolean
        default: false
        description: Invert roll axis
        reload_tier: follower_restart
        reboot_required: false
      INVERT_GIMBAL_PITCH:
        type: boolean
        default: false
        description: Invert pitch axis
        reload_tier: follower_restart
        reboot_required: false
      INVERT_GIMBAL_YAW:
        type: boolean
        default: false
        description: Invert yaw axis
        reload_tier: follower_restart
        reboot_required: false
  MC_VELOCITY_CHASE:
    display_name: MC Velocity Chase
    category: follower
    icon: sports_motorsports
    parameters:
      INITIAL_FORWARD_VELOCITY:
        type: float
        default: 0.0
        description: Initial forward velocity when target acquired (m/s)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 30.0
        step: 0.1
        unit: m/s
      FORWARD_RAMP_RATE:
        type: float
        default: 0.5
        description: Forward velocity ramp-up acceleration rate (m/s¬≤)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 20.0
        step: 0.05
        unit: m/s¬≤
      RAMP_DOWN_ON_TARGET_LOSS:
        type: boolean
        default: true
        description: Decelerate when target lost
        reload_tier: follower_restart
        reboot_required: false
      TARGET_LOSS_TIMEOUT:
        type: float
        default: 2.0
        description: "seconds before ramp down starts\n  # Target loss stop velocity: ramp to this when target lost (0.0 =\
          \ full stop)"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      TARGET_LOSS_STOP_VELOCITY:
        type: float
        default: 0.0
        description: Forward velocity to hold when target is temporarily lost (m/s)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 30.0
        step: 0.1
        unit: m/s
      TARGET_LOSS_COORDINATE_THRESHOLD:
        type: float
        default: 1.5
        description: "v5.7.0: Fixed from 990 (broken) to normalized range\n\n  # === Control Enablement ===\n  #\n  # ‚ö†Ô∏è ALTITUDE\
          \ CONTROL BEHAVIOR:\n  # - ENABLE_ALTITUDE_CONTROL: Controls whether follower CALCULATES altitude commands\n  #\
          \   * true: Actively tracks target in 3D space (follows target up/down)\n  #   * false: Altitude commands remain\
          \ 0, drone maintains current altitude\n  #\n  # For SITL/Flight Testing:\n  #   Set ENABLE_ALTITUDE_CONTROL: true\
          \ (to chase target in 3D)\n  #\n  # For Ground Testing:\n  #   ENABLE_ALTITUDE_CONTROL: false (keeps altitude at\
          \ 0 - safe for ground)\n  #"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      ENABLE_ALTITUDE_CONTROL:
        type: boolean
        default: false
        description: "Disabled by default for ground testing\n\n  # === \U0001F9ED LATERAL GUIDANCE MODES ===\n  # Two guidance\
          \ strategies for lateral target tracking:\n  # - coordinated_turn: Turn-to-track (v_right = 0, yaw_rate ‚â† 0)\n \
          \ #   RECOMMENDED for fixed camera tracking (keeps target centered more reliably)\n  # - sideslip: Direct lateral\
          \ velocity (v_right ‚â† 0, yaw_rate = 0)\n  #   ADVANCED: allowed for expert use, but may lose target with fixed camera"
        reload_tier: follower_restart
        reboot_required: false
      LATERAL_GUIDANCE_MODE:
        type: string
        default: coordinated_turn
        description: Fixed-camera lateral guidance strategy.
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: coordinated_turn
          label: coordinated_turn
          description: recommended fixed camera
        - value: sideslip
          label: sideslip
          description: advanced, may lose target
      GUIDANCE_MODE_SWITCH_VELOCITY:
        type: float
        default: 3.0
        description: m/s - auto-switch threshold
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      ENABLE_AUTO_MODE_SWITCHING:
        type: boolean
        default: false
        description: "Auto-switch based on forward velocity\n  # === \U0001F6E1Ô∏è ALTITUDE SAFETY (Overrides Safety.GlobalLimits)\
          \ ===\n  #\n  # ‚ö†Ô∏è IMPORTANT - Two Different Altitude Flags:\n  #\n  # 1. ENABLE_ALTITUDE_CONTROL (above) - Controls\
          \ altitude COMMAND generation\n  #    - false: Follower never sends altitude commands (vel_down = 0 always)\n  #\
          \    - true: Follower calculates and sends altitude commands\n  #\n  # 2. ALTITUDE_SAFETY_ENABLED (below) - Controls\
          \ altitude LIMIT enforcement\n  #    - false: No altitude boundary checks (useful for ground testing)\n  #    -\
          \ true: Enforces MIN_ALTITUDE/MAX_ALTITUDE bounds, triggers RTL on violation\n  #\n  # Typical Configurations:\n\
          \  # - Ground Testing: ENABLE_ALTITUDE_CONTROL=false, ALTITUDE_SAFETY_ENABLED=false\n  # - SITL Testing: ENABLE_ALTITUDE_CONTROL=true,\
          \ ALTITUDE_SAFETY_ENABLED=true\n  # - Flight Testing: ENABLE_ALTITUDE_CONTROL=true, ALTITUDE_SAFETY_ENABLED=true\n\
          \  #\n  # Altitude limits now defined in Safety.FollowerOverrides.MC_VELOCITY_CHASE\n  # Resolution: FollowerOverrides\
          \ -> GlobalLimits -> Hardcoded Fallbacks\n  # ALTITUDE_SAFETY_ENABLED, RTL_ON_ALTITUDE_VIOLATION, EMERGENCY_STOP_ENABLED\
          \ now from\n  # Safety.GlobalLimits / Safety.FollowerOverrides.GM_VELOCITY_CHASE"
        reload_tier: follower_restart
        reboot_required: false
      ALTITUDE_CHECK_INTERVAL:
        type: float
        default: 0.1
        description: "seconds - 100ms check frequency (fast safety checks)\n\n  # === Safety Limits (Additional to Schema\
          \ Limits) ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      MAX_TRACKING_ERROR:
        type: float
        default: 1.5
        description: Max normalized error before limiting
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Enable velocity command smoothing
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.8
        description: "Smoothing coefficient (0-1)\n  # === Performance Tuning ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MIN_FORWARD_VELOCITY_THRESHOLD:
        type: float
        default: 0.2
        description: Minimum forward velocity to maintain (m/s). Critical for VTOL or fixed-wing configurations.
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 20.0
        step: 0.05
        options:
        - value: m
          label: m
        - value: VTOL
          label: VTOL
        unit: m/s
      RAMP_UPDATE_RATE:
        type: float
        default: 10.0
        description: Hz - forward velocity update frequency
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      PID_UPDATE_RATE:
        type: float
        default: 20.0
        description: "Hz - tracking PID update frequency\n\n  # === \U0001F3AF ADAPTIVE DIVE/CLIMB CONTROL (Advanced Feature)\
          \ ===\n  # Vertical-rate-based dive/climb angle adaptation for optimal target intercept\n  # Addresses early descent\
          \ (far target) and late descent (close target) scenarios\n  # Uses visual feedback to adaptively adjust v_fwd and\
          \ v_down balance\n  #\n  # When to Enable:\n  # - Target distance varies significantly (near/far scenarios)\n  #\
          \ - Prefer slant approach trajectories vs early descent\n  # - Have high-confidence, stable tracking (confidence\
          \ > 0.6)\n  #\n  # When to Disable:\n  # - Noisy visual tracking (causes oscillations)\n  # - Low framerate (<15\
          \ FPS) - rate estimation unreliable\n  # - Simple scenarios with consistent target distance\n  #"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      ENABLE_ADAPTIVE_DIVE_CLIMB:
        type: boolean
        default: false
        description: "Master enable/disable (off by default for stability)\n\n  # === Rate Estimation & Filtering ==="
        reload_tier: follower_restart
        reboot_required: false
      ADAPTIVE_SMOOTHING_ALPHA:
        type: float
        default: 0.2
        description: "EMA smoothing factor (0.1-0.5)\n                                         # Lower = more filtering (stable,\
          \ slower response)\n                                         # Higher = less filtering (responsive, noisier)\n \
          \                                        # Recommended: 0.15-0.25 for 20-30 FPS tracking"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: fps
      ADAPTIVE_WARMUP_FRAMES:
        type: integer
        default: 10
        description: "Frames to ignore on startup (5-15)\n                                         # Allows rate estimator\
          \ to stabilize\n                                         # Higher = safer startup, slower activation"
        reload_tier: follower_restart
        reboot_required: false
        min: 0
        max: 200
      ADAPTIVE_RATE_THRESHOLD:
        type: float
        default: 5.0
        description: "Pixels/sec error threshold to trigger correction\n                                         # Dead-zone\
          \ to prevent over-reaction to noise\n                                         # Adjust based on image resolution\
          \ and framerate\n                                         # Recommended: 3-8 px/s for 640x480 @ 30fps\n\n  # ===\
          \ Correction Authority ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: px
      ADAPTIVE_MAX_CORRECTION:
        type: float
        default: 1.0
        description: "Maximum velocity correction (m/s)\n                                         # Limits how much adaptive\
          \ mode can change v_down/v_fwd\n                                         # Lower = gentler adjustments, higher =\
          \ more aggressive\n                                         # Recommended: 0.5-1.5 m/s"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s
      ADAPTIVE_CORRECTION_GAIN:
        type: float
        default: 0.3
        description: "Proportional gain on rate error (0.1-0.8)\n                                         # Lower = gentle\
          \ corrections, higher = aggressive\n                                         # Start conservative (0.2-0.3), increase\
          \ if response too slow"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ADAPTIVE_MIN_CONFIDENCE:
        type: float
        default: 0.6
        description: "Minimum tracker confidence to activate (0.0-1.0)\n                                         # Higher\
          \ = only activates with high-quality tracking\n                                         # Recommended: 0.5-0.7\n\
          \n  # === Forward Velocity Coupling (Advanced) ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ADAPTIVE_FWD_COUPLING_ENABLED:
        type: boolean
        default: false
        description: "Allow v_fwd adjustments (in addition to v_down)\n                                         # true = Adjust\
          \ both v_fwd and v_down for faster response\n                                         # false = Only adjust v_down\
          \ (safer, simpler)\n                                         # Recommend: false initially, enable after tuning"
        reload_tier: follower_restart
        reboot_required: false
      ADAPTIVE_FWD_COUPLING_GAIN:
        type: float
        default: 0.1
        description: "v_fwd adjustment gain (0.05-0.2)\n                                         # Only used if ADAPTIVE_FWD_COUPLING_ENABLED\
          \ = true\n                                         # Lower values recommended to maintain chase velocity\n\n  #\
          \ === Calibration ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PIXEL_TO_RATE_CALIBRATION:
        type: float
        default: 0.05
        description: "Calibration factor: meters/sec per pixels/sec\n                                         # Platform-specific,\
          \ requires field tuning\n                                         # Depends on: camera FOV, altitude, image resolution\n\
          \                                         # Start with 0.03-0.08, adjust based on observed behavior\n          \
          \                               # Higher = more aggressive response to visual rate changes\n\n  # === Safety & Monitoring\
          \ ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      ADAPTIVE_OSCILLATION_DETECTION:
        type: boolean
        default: true
        description: Enable oscillation detection (recommended)
        reload_tier: follower_restart
        reboot_required: false
        unit: recommended
      ADAPTIVE_MAX_SIGN_CHANGES:
        type: integer
        default: 3
        description: Max sign changes in 2 seconds before disable
        reload_tier: follower_restart
        reboot_required: false
        min: 0
        max: 100
        unit: s
      ADAPTIVE_DIVERGENCE_TIMEOUT:
        type: float
        default: 5.0
        description: "Seconds - disable if error grows despite corrections\n\n  # === \U0001F3AF PITCH ANGLE COMPENSATION\
          \ (Advanced Feature) ===\n  # Compensates for camera pitch-induced vertical image shifts during forward flight\n\
          \  # See config.yaml for comprehensive documentation and calibration guide"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      ENABLE_PITCH_COMPENSATION:
        type: boolean
        default: false
        description: Master enable/disable (off by default for safety)
        reload_tier: follower_restart
        reboot_required: false
      PITCH_COMPENSATION_MODEL:
        type: string
        default: linear_velocity
        description: PITCH_COMPENSATION_MODEL parameter
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: linear_velocity
          label: linear_velocity
        - value: linear_angle
          label: linear_angle
        - value: quadratic
          label: quadratic
      PITCH_COMPENSATION_GAIN:
        type: float
        default: 0.05
        description: Calibration factor (0.01-0.15 typical)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PITCH_DATA_SMOOTHING_ALPHA:
        type: float
        default: 0.7
        description: EMA filter (0.6-0.8 recommended)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PITCH_DATA_MAX_AGE:
        type: float
        default: 0.5
        description: Max data age in seconds
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      PITCH_COMPENSATION_MIN_VELOCITY:
        type: float
        default: 1.0
        description: Min v_fwd to activate (m/s)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s
      PITCH_COMPENSATION_DEADBAND:
        type: float
        default: 2.0
        description: Ignore pitch below this (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      PITCH_COMPENSATION_MAX_ANGLE:
        type: float
        default: 45.0
        description: Safety limit (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      PITCH_COMPENSATION_MAX_CORRECTION:
        type: float
        default: 0.3
        description: Max compensation magnitude (0.0-1.0)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PITCH_COMPENSATION_ADAPTIVE_GAIN:
        type: boolean
        default: false
        description: "Future: adaptive gain tuning\n\n  # === v5.7.0: Configurable Parameters (Enterprise Hardening) ===\n\
          \  # These were previously hardcoded values - now configurable for different platforms\n\n  # Camera resolution\
          \ height for adaptive rate calculations\n  # Adjust based on your camera's actual resolution for accurate rate estimation"
        reload_tier: follower_restart
        reboot_required: false
        unit: s
      VIDEO_HEIGHT_PIXELS:
        type: float
        default: 480.0
        description: "Default 480p, change for 720/1080/etc\n\n  # Velocity deadzone for forward ramping logic\n  # Values\
          \ below this threshold are considered \"at target\" - prevents jitter"
        reload_tier: follower_restart
        reboot_required: false
        min: -10000.0
        max: 10000.0
        step: 0.1
      FORWARD_VELOCITY_DEADZONE:
        type: float
        default: 0.01
        description: "m/s - default 0.01 (1 cm/s)\n\n  # v5.7.1: Target validation thresholds for enhanced tracking\n  # Confidence\
          \ threshold - targets with lower confidence are considered lost"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s
      TARGET_CONFIDENCE_THRESHOLD:
        type: float
        default: 0.5
        description: "Range 0-1, default 0.5\n  # Maximum reasonable target velocity - reject outliers from tracker noise"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MAX_REASONABLE_TARGET_VELOCITY:
        type: float
        default: 50.0
        description: "pixels/frame, default 50.0\n\n  # === \U0001F3AF YAW RATE SMOOTHING (v5.7.0) ===\n  # Enterprise-grade\
          \ yaw rate smoothing with deadzone, rate limiting, and EMA\n  # Prevents jitter on yaw commands from small tracking\
          \ errors\n  #\n  # FIXED CAMERA NOTE: MC_VELOCITY_CHASE uses fixed camera (no gimbal), so\n  # the drone MUST yaw\
          \ to keep target centered. Sideslip mode is incompatible\n  # and will be auto-converted to coordinated_turn with\
          \ a warning.\n  #"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: px
      YAW_SMOOTHING:
        type: object
        default:
          ENABLED: true
          DEADZONE_DEG_S: 0.5
          MAX_RATE_CHANGE_DEG_S2: 90.0
          SMOOTHING_ALPHA: 0.7
          ENABLE_SPEED_SCALING: true
          MIN_SPEED_THRESHOLD: 0.5
          MAX_SPEED_THRESHOLD: 5.0
          LOW_SPEED_YAW_FACTOR: 0.5
        description: YAW_SMOOTHING parameter
        reload_tier: follower_restart
        reboot_required: false
  MC_VELOCITY_POSITION:
    display_name: MC Velocity Position
    category: follower
    icon: place
    parameters:
      ENABLE_ALTITUDE_CONTROL:
        type: boolean
        default: false
        description: Disabled by default for ground testing
        reload_tier: follower_restart
        reboot_required: false
      ENABLE_YAW_CONTROL:
        type: boolean
        default: true
        description: "Always enabled for this mode\n\n  # === Altitude Parameters ===\n  # NOTE: All safety limits (min/max\
          \ altitude, velocity limits) are now in\n  # Safety.GlobalLimits (single source of truth). Use FollowerOverrides\
          \ for custom values.\n\n  # === Yaw Control ===\n  # MAX_YAW_RATE now in Safety.FollowerOverrides.MC_VELOCITY_POSITION"
        reload_tier: follower_restart
        reboot_required: false
      YAW_CONTROL_THRESHOLD:
        type: float
        default: 0.02
        description: "Dead zone threshold (normalized)\n\n  # === Safety & Performance ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TARGET_LOSS_TIMEOUT:
        type: float
        default: 3.0
        description: Target loss timeout (seconds)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      CONTROL_UPDATE_RATE:
        type: float
        default: 20.0
        description: Control loop frequency (Hz)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Enable velocity smoothing
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.8
        description: 'Smoothing coefficient (0-1)


          # ==============================================================================

          # CONSTANT DISTANCE FOLLOWER CONFIGURATION

          # =============================================================================='
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
  MC_VELOCITY_DISTANCE:
    display_name: MC Velocity Distance
    category: follower
    icon: straighten
    parameters:
      ENABLE_YAW_CONTROL:
        type: boolean
        default: false
        description: Enable yaw rate control for target centering
        reload_tier: follower_restart
        reboot_required: false
      ENABLE_ALTITUDE_CONTROL:
        type: boolean
        default: false
        description: "Disabled by default for ground testing\n\n  # === Altitude Parameters ===\n  # NOTE: All safety limits\
          \ (min/max altitude, velocity limits) are now in\n  # Safety.GlobalLimits (single source of truth). Use FollowerOverrides\
          \ for custom values.\n\n  # === Lateral Control ===\n\n  # === Yaw Control ===\n  # MAX_YAW_RATE now in Safety.FollowerOverrides.MC_VELOCITY_DISTANCE"
        reload_tier: follower_restart
        reboot_required: false
      YAW_CONTROL_THRESHOLD:
        type: float
        default: 0.3
        description: "Dead zone threshold (normalized)\n\n  # === Safety & Performance ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TARGET_LOSS_TIMEOUT:
        type: float
        default: 3.0
        description: Target loss timeout (seconds)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      CONTROL_UPDATE_RATE:
        type: float
        default: 20.0
        description: Control loop frequency (Hz)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Enable velocity smoothing
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.8
        description: "Smoothing coefficient (0-1)\n\n  # === Distance Maintenance ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      DISTANCE_HOLD_ENABLED:
        type: boolean
        default: true
        description: Maintain constant forward distance
        reload_tier: follower_restart
        reboot_required: false
      DISTANCE_HOLD_TOLERANCE:
        type: float
        default: 0.1
        description: 'Distance tolerance (normalized)


          # ==============================================================================

          # FIXED-WING FOLLOWER CONFIGURATION

          # ==============================================================================

          # Professional fixed-wing target following with L1 navigation and TECS energy management

          # Uses attitude rate commands (the ONLY offboard mode supported by PX4 for fixed-wing)

          #

          # Control Architecture:

          # - L1 Navigation: Lateral guidance (cross-track error ‚Üí yaw rate)

          # - TECS: Longitudinal control (altitude/speed errors ‚Üí pitch rate, throttle)

          # - Coordinated Turn: Bank angle calculation from yaw rate

          #

          # CRITICAL: PX4 fixed-wing IGNORES velocity body commands in offboard mode!

          # This follower MUST use attitude_rate control type.

          # =============================================================================='
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
  FW_ATTITUDE_RATE:
    display_name: Fixed-Wing Attitude Rate
    category: follower
    icon: flight
    parameters:
      MIN_AIRSPEED:
        type: float
        default: 12.0
        description: m/s - stall speed + safety margin
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      CRUISE_AIRSPEED:
        type: float
        default: 18.0
        description: m/s - optimal efficiency airspeed
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      MAX_AIRSPEED:
        type: float
        default: 30.0
        description: m/s - structural/performance limit
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      STALL_MARGIN_BUFFER:
        type: float
        default: 3.0
        description: "m/s - safety buffer above stall speed\n\n  # === STRUCTURAL LIMITS ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      MAX_BANK_ANGLE:
        type: float
        default: 35.0
        description: Maximum bank angle for coordinated turns (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 90.0
        step: 1.0
        unit: deg
      MAX_LOAD_FACTOR:
        type: float
        default: 2.5
        description: g - structural load factor limit
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      MAX_PITCH_ANGLE:
        type: float
        default: 25.0
        description: Maximum pitch up angle structural limit (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 90.0
        step: 1.0
        unit: deg
      MIN_PITCH_ANGLE:
        type: float
        default: -20.0
        description: Maximum pitch down angle structural limit (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: -90.0
        max: 0.0
        step: 1.0
        unit: deg
      L1_DISTANCE:
        type: float
        default: 50.0
        description: m - lookahead distance
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m
      L1_DAMPING:
        type: float
        default: 0.75
        description: damping ratio (0.7-1.0 recommended)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_L1_ADAPTIVE:
        type: boolean
        default: false
        description: Adapt L1 distance to current airspeed
        reload_tier: follower_restart
        reboot_required: false
      L1_MIN_DISTANCE:
        type: float
        default: 20.0
        description: m - minimum L1 for low speed
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m
      L1_MAX_DISTANCE:
        type: float
        default: 100.0
        description: Maximum L1 lookahead distance at high speed (meters)
        reload_tier: follower_restart
        reboot_required: false
        min: 5.0
        max: 1000.0
        step: 5.0
        unit: m
      L1_LATERAL_SCALE:
        type: float
        default: 50.0
        description: L1 guidance lateral scale factor (m)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 500.0
        step: 1.0
        options:
        - value: Scale
          label: Scale
        - value: vice
          label: vice
        unit: m
      ENABLE_TECS:
        type: boolean
        default: true
        description: Use TECS energy management (recommended)
        reload_tier: follower_restart
        reboot_required: false
        unit: recommended
      TECS_TIME_CONST:
        type: float
        default: 5.0
        description: seconds - energy response time constant
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      TECS_PITCH_DAMPING:
        type: float
        default: 1.0
        description: pitch axis damping factor
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TECS_THROTTLE_DAMPING:
        type: float
        default: 0.5
        description: throttle axis damping factor
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TECS_SPE_WEIGHT:
        type: float
        default: 1.0
        description: altitude vs speed priority (>1 = altitude priority)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TECS_ALTITUDE_SCALE:
        type: float
        default: 20.0
        description: TECS altitude error scale (m)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 200.0
        step: 1.0
        unit: m
      TECS_MAX_INTEGRAL:
        type: float
        default: 50.0
        description: TECS maximum integral term
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 500.0
        step: 1.0
      FALLBACK_ALTITUDE_PITCH_GAIN:
        type: float
        default: 0.5
        description: Fallback altitude pitch gain when TECS unavailable
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 10.0
        step: 0.01
        unit: deg
      MIN_THRUST:
        type: float
        default: 0.2
        description: minimum throttle (idle - never below for fixed-wing!)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MAX_THRUST:
        type: float
        default: 1.0
        description: maximum throttle
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      CRUISE_THRUST:
        type: float
        default: 0.6
        description: typical cruise throttle
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      THRUST_SLEW_RATE:
        type: float
        default: 0.5
        description: "max throttle change per second (smooth transitions)\n\n  # === COORDINATED TURN ===\n  # Ensures proper\
          \ bank angle for zero-sideslip turns"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_COORDINATED_TURN:
        type: boolean
        default: true
        description: Calculate bank from yaw rate (recommended)
        reload_tier: follower_restart
        reboot_required: false
        unit: recommended
      TURN_COORDINATION_GAIN:
        type: float
        default: 1.0
        description: Fine-tune turn coordination (1.0 = standard)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      SLIP_ANGLE_LIMIT:
        type: float
        default: 5.0
        description: "degrees - max sideslip allowed\n\n  # === ALTITUDE SAFETY ===\n  # ENABLE_ALTITUDE_SAFETY, RTL_ON_ALTITUDE_VIOLATION\
          \ now from Safety.GlobalLimits\n  # Per-follower overrides in Safety.FollowerOverrides.FW_ATTITUDE_RATE"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: deg
      ALTITUDE_CHECK_INTERVAL:
        type: float
        default: 0.1
        description: "seconds between checks\n\n  # === STALL PROTECTION ===\n  # Critical for fixed-wing safety - monitors\
          \ airspeed and initiates recovery"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      ENABLE_STALL_PROTECTION:
        type: boolean
        default: true
        description: Monitor airspeed for stall conditions
        reload_tier: follower_restart
        reboot_required: false
      STALL_RECOVERY_PITCH:
        type: float
        default: -5.0
        description: degrees - nose down for recovery
        reload_tier: follower_restart
        reboot_required: false
        min: -10000.0
        max: 10000.0
        step: 0.1
        unit: deg
      STALL_RECOVERY_THROTTLE:
        type: float
        default: 1.0
        description: STALL_RECOVERY_THROTTLE parameter
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        options:
        - value: full
          label: full
        - value: RTL
          label: RTL
      TARGET_LOSS_TIMEOUT:
        type: float
        default: 3.0
        description: seconds before taking action
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      ORBIT_RADIUS:
        type: float
        default: 100.0
        description: Loiter orbit radius on target loss (meters)
        reload_tier: follower_restart
        reboot_required: false
        min: 10.0
        max: 2000.0
        step: 5.0
        unit: m
      TARGET_LOSS_COORDINATE_THRESHOLD:
        type: float
        default: 1.5
        description: Normalized pixel threshold for target loss detection (0-2 range typical)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 5.0
        step: 0.1
      CONTROL_UPDATE_RATE:
        type: float
        default: 20.0
        description: Hz - control loop frequency
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Apply EMA smoothing to commands
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.85
        description: 'EMA coefficient (0-1, higher = more smooth)


          # ==============================================================================

          # MULTICOPTER ATTITUDE RATE FOLLOWER CONFIGURATION

          # ==============================================================================

          # Professional multicopter target follower using pure attitude rate control.

          # Unlike velocity-based control, this provides direct attitude rate commands

          # (roll rate, pitch rate, yaw rate, thrust) for aggressive, responsive tracking.

          #

          # Key Characteristics:

          # - Uses set_attitude_rate() offboard command (rollspeed, pitchspeed, yawspeed, thrust)

          # - Requires explicit thrust management (no automatic altitude hold)

          # - Faster response than velocity cascade (direct rate control)

          # - GPS-independent operation possible

          # - Compatible with PNG/IBVS guidance laws

          # - Target loss action: HOVER (rates=0, hover thrust)

          #

          # When to Use:

          # - Aggressive target interception

          # - GPS-denied environments

          # - High-bandwidth tracking maneuvers

          # - Vision-based servoing (IBVS)

          # =============================================================================='
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
  MC_ATTITUDE_RATE:
    display_name: MC Attitude Rate
    category: follower
    icon: rotate_right
    parameters:
      GUIDANCE_MODE:
        type: string
        default: direct_rate
        description: "direct_rate | png\n\n  # RATE LIMITS: MAX_PITCH_RATE, MAX_ROLL_RATE now from Safety.GlobalLimits\n \
          \ # MAX_YAW_RATE: 60.0 set in Safety.FollowerOverrides.MC_ATTITUDE_RATE (higher than default 45)\n\n  # === ANGLE\
          \ LIMITS (safety) ===\n  # Prevents excessive attitude angles that could cause instability"
        reload_tier: follower_restart
        reboot_required: false
      MAX_PITCH_ANGLE:
        type: float
        default: 35.0
        description: Maximum pitch angle limit (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 90.0
        step: 1.0
        unit: deg
      MAX_ROLL_ANGLE:
        type: float
        default: 35.0
        description: Maximum roll angle limit (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 90.0
        step: 1.0
        unit: deg
      MAX_BANK_ANGLE:
        type: float
        default: 30.0
        description: Maximum bank angle for coordinated turns (degrees)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 90.0
        step: 1.0
        unit: deg
      HOVER_THRUST:
        type: float
        default: 0.5
        description: Baseline hover thrust (0.0-1.0)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MIN_THRUST:
        type: float
        default: 0.1
        description: Minimum thrust (safety floor)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: safety floor
      MAX_THRUST:
        type: float
        default: 0.9
        description: Maximum thrust (motor protection)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_PITCH_THRUST_COMPENSATION:
        type: boolean
        default: true
        description: Compensate for thrust loss at pitch angles
        reload_tier: follower_restart
        reboot_required: false
      PITCH_COMPENSATION_GAIN:
        type: float
        default: 0.5
        description: "Compensation aggressiveness (0.0-1.0)\n\n  # === ALTITUDE CONTROL ===\n  # Explicit altitude hold using\
          \ thrust PID"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_ALTITUDE_HOLD:
        type: boolean
        default: true
        description: Enable altitude PID for hover
        reload_tier: follower_restart
        reboot_required: false
      TARGET_ALTITUDE_OFFSET:
        type: float
        default: 15.0
        description: meters ‚Äî offset from initial capture altitude
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      ALTITUDE_PID_MIN_OUTPUT:
        type: float
        default: -0.3
        description: Min altitude PID correction (thrust units)
        reload_tier: follower_restart
        reboot_required: false
        min: -10000.0
        max: 10000.0
        step: 0.1
        unit: thrust units
      ALTITUDE_PID_MAX_OUTPUT:
        type: float
        default: 0.3
        description: "Max altitude PID correction (thrust units)\n\n  # === PROPORTIONAL NAVIGATION PARAMETERS ===\n  # PNG\
          \ Law: a_cmd = N * V_c * LOS_rate\n  # Used when GUIDANCE_MODE: png"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PN_NAVIGATION_CONSTANT:
        type: float
        default: 4.0
        description: N (3-5 typical for intercept)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PN_LOS_SMOOTHING_ALPHA:
        type: float
        default: 0.3
        description: EMA filter for LOS rate noise
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      PN_CLOSING_VELOCITY:
        type: float
        default: 5.0
        description: "m/s - assumed closing velocity\n\n  # === YAW ERROR GATING ===\n  # Safety: Don't pitch down until yaw\
          \ is aligned with target\n  # Prevents diving when target is to the side"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: m/s
      ENABLE_YAW_ERROR_GATING:
        type: boolean
        default: true
        description: Enable yaw alignment check
        reload_tier: follower_restart
        reboot_required: false
      YAW_ERROR_THRESHOLD:
        type: float
        default: 0.3
        description: Normalized error threshold (0.0-1.0)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      YAW_GATING_PITCH_SCALE:
        type: float
        default: 0.3
        description: "Pitch scaling when yaw misaligned\n\n  # === COORDINATED TURNS ===\n  # Generate roll rate from yaw\
          \ rate for smooth turns"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ENABLE_COORDINATED_TURNS:
        type: boolean
        default: true
        description: Enable roll-yaw coordination
        reload_tier: follower_restart
        reboot_required: false
      TURN_COORDINATION_GAIN:
        type: float
        default: 1.0
        description: "Coordination aggressiveness\n\n  # === TARGET LOSS HANDLING ===\n  # Key advantage: multicopters can\
          \ HOVER (unlike fixed-wing orbit)\n  # TARGET_LOSS_ACTION: hover ‚Äî sourced from Safety.GlobalLimits (default is\
          \ hover)"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TARGET_LOSS_TIMEOUT:
        type: float
        default: 2.0
        description: seconds - before executing action
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
      TARGET_LOSS_COORDINATE_THRESHOLD:
        type: float
        default: 1.5
        description: Normalized pixel threshold for target loss detection (0-2 range typical)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 5.0
        step: 0.1
      RAMP_DOWN_ON_TARGET_LOSS:
        type: boolean
        default: true
        description: "Gradually reduce rates on loss\n\n  # === ALTITUDE SAFETY ===\n  # ENABLE_ALTITUDE_SAFETY, RTL_ON_ALTITUDE_VIOLATION\
          \ now from Safety.GlobalLimits\n  # Altitude limits in Safety.FollowerOverrides.MC_ATTITUDE_RATE if needed\n\n \
          \ # === COMMAND SMOOTHING ==="
        reload_tier: follower_restart
        reboot_required: false
      COMMAND_SMOOTHING_ENABLED:
        type: boolean
        default: true
        description: Enable rate command smoothing
        reload_tier: follower_restart
        reboot_required: false
      SMOOTHING_FACTOR:
        type: float
        default: 0.85
        description: "EMA coefficient (0-1, higher=smoother)\n\n  # === SAFETY ===\n  # EMERGENCY_STOP_ENABLED now from Safety.GlobalLimits"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      MAX_TRACKING_ERROR:
        type: float
        default: 1.5
        description: "Max normalized error before limiting\n\n  # === CONTROL CONFIGURATION ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      CONTROL_UPDATE_RATE:
        type: float
        default: 50.0
        description: 'Hz - higher for attitude rate control


          # ==============================================================================

          # GROUND VIEW FOLLOWER CONFIGURATION

          # =============================================================================='
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
  MC_VELOCITY_GROUND:
    display_name: MC Velocity Ground
    category: follower
    icon: terrain
    parameters:
      TARGET_POSITION_MODE:
        type: string
        default: center
        description: '# === Velocity Limits === # NOTE: MAX_VELOCITY_X/Y now in Safety.GlobalLimits as MAX_VELOCITY_LATERAL/FORWARD'
        reload_tier: follower_restart
        reboot_required: false
        options:
        - value: center
          label: center
        - value: initial
          label: initial
      MAX_RATE_OF_DESCENT:
        type: float
        default: 1.0
        description: "Max descent rate (m/s) - operational parameter\n\n  # === Descent Control ===\n  # Altitude limits now\
          \ defined in Safety.FollowerOverrides.MC_VELOCITY_GROUND\n  # Resolution: FollowerOverrides -> GlobalLimits -> Hardcoded\
          \ Fallbacks"
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: m/s
      ENABLE_DESCEND_TO_TARGET:
        type: boolean
        default: false
        description: "Enable automatic descent to target\n\n  # === Gimbal Corrections ==="
        reload_tier: follower_restart
        reboot_required: false
      IS_CAMERA_GIMBALED:
        type: boolean
        default: false
        description: Camera stabilization status
        reload_tier: follower_restart
        reboot_required: false
      BASE_ADJUSTMENT_FACTOR_X:
        type: float
        default: 0.1
        description: Base correction factor for roll (X-axis)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: x-axis
      BASE_ADJUSTMENT_FACTOR_Y:
        type: float
        default: 0.1
        description: "Base correction factor for pitch (Y-axis)\n\n  # === Altitude Adjustments ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ALTITUDE_FACTOR:
        type: float
        default: 0.005
        description: "Altitude scaling factor for distance compensation\n\n  # === Performance Tuning ==="
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      CONTROL_UPDATE_RATE:
        type: float
        default: 20.0
        description: Control loop frequency (Hz)
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
        unit: hz
      COORDINATE_CORRECTIONS_ENABLED:
        type: boolean
        default: true
        description: Enable gimbal and altitude corrections
        reload_tier: follower_restart
        reboot_required: false
      ERROR_LOGGING_ENABLED:
        type: boolean
        default: true
        description: 'Enable detailed error logging


          # ==============================================================================

          # DETECTOR CONFIGURATION

          # =============================================================================='
        reload_tier: follower_restart
        reboot_required: false
  Detector:
    display_name: Object Detector
    category: detection
    icon: search
    parameters:
      USE_DETECTOR:
        type: boolean
        default: true
        description: USE_DETECTOR parameter
        reload_tier: tracker_restart
        reboot_required: false
      DETECTION_ALGORITHM:
        type: string
        default: TemplateMatching
        description: "or FeatureMatching, YOLO\n  # ==============================================================================\n\
          \  # \U0001F50D TEMPLATE MATCHING (Re-detection for all trackers)\n  # ==============================================================================\n\
          \  # Used when tracker loses target - attempts to re-detect using template matching\n  # Multi-scale search allows\
          \ finding target at different sizes (zoom in/out)\n  # =============================================================================="
        reload_tier: tracker_restart
        reboot_required: false
      TEMPLATE_MATCHING_METHOD:
        type: string
        default: TM_CCOEFF_NORMED
        description: TEMPLATE_MATCHING_METHOD parameter
        reload_tier: tracker_restart
        reboot_required: false
      TEMPLATE_UPDATE_INTERVAL:
        type: integer
        default: 10
        description: Frames between template updates
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 200
      TEMPLATE_APPEARANCE_LEARNING_RATE:
        type: float
        default: 0.002
        description: "Template adaptation speed\n\n  # Multi-scale search (0.5x to 2x target size for drone scenarios)"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TEMPLATE_MATCHING_SCALES:
        type: array
        default:
        - 0.5
        - 0.7
        - 0.8
        - 0.9
        - 1.0
        - 1.1
        - 1.2
        - 1.5
        - 2.0
        description: TEMPLATE_MATCHING_SCALES parameter
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      TEMPLATE_MATCHING_THRESHOLD:
        type: float
        default: 0.7
        description: Match confidence threshold
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      APPEARANCE_CONFIDENCE_THRESHOLD:
        type: float
        default: 0.7
        description: Re-detection validation
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      TRACKER_CONFIDENCE_THRESHOLD_FOR_TEMPLATE_UPDATE:
        type: float
        default: 0.8
        description: === Feature Matching ===
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      DEFAULT_FEATURE_EXTRACTION_ALGORITHM:
        type: string
        default: ORB
        description: or SIFT, SURF
        reload_tier: tracker_restart
        reboot_required: false
      ORB_NFEATURES:
        type: integer
        default: 500
        description: ORB_NFEATURES parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
      ORB_MIN_MATCH_COUNT:
        type: integer
        default: 30
        description: ORB_MIN_MATCH_COUNT parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      RANSAC_REPROJECTION_THRESHOLD:
        type: float
        default: 10.0
        description: === Re-detection Parameters ===
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      AUTO_REDETECT:
        type: boolean
        default: true
        description: AUTO_REDETECT parameter
        reload_tier: tracker_restart
        reboot_required: false
      REDETECTION_SEARCH_RADIUS:
        type: integer
        default: 300
        description: Pixels
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
        unit: px
      MIN_SEARCH_RADIUS:
        type: integer
        default: 50
        description: MIN_SEARCH_RADIUS parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 1000
      UNCERTAINTY_SCALE_FACTOR:
        type: float
        default: 2.0
        description: UNCERTAINTY_SCALE_FACTOR parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      ESTIMATOR_UNCERTAINTY_THRESHOLD:
        type: float
        default: 1000.0
        description: '==============================================================================

          # GSTREAMER PIPELINE TEMPLATES

          # ==============================================================================

          # üîß Advanced users can edit these templates

          # Variables: {width}, {height}, {fps}, {device_id}, {url}, {latency}'
        reload_tier: tracker_restart
        reboot_required: false
        min: -10000.0
        max: 10000.0
        step: 0.1
        unit: fps
  GStreamerPipelines:
    display_name: GStreamer Pipelines
    category: network
    icon: code
    parameters:
      USB_YUYV:
        type: string
        default: v4l2src device=/dev/video{device_id} ! video/x-raw,format=YUY2,width={width},height={height},framerate={fps}/1
          ! videoconvert ! video/x-raw,format=BGR ! appsink drop=true max-buffers=1 sync=false
        description: USB_YUYV parameter
        reload_tier: system_restart
        reboot_required: true
      USB_MJPEG:
        type: string
        default: v4l2src device=/dev/video{device_id} ! image/jpeg,width={width},height={height},framerate={fps}/1 ! jpegdec
          ! videoconvert ! video/x-raw,format=BGR ! appsink drop=true max-buffers=1 sync=false
        description: CSI camera pipelines
        reload_tier: system_restart
        reboot_required: true
      CSI_NVIDIA:
        type: string
        default: nvarguscamerasrc sensor-id={sensor_id} ! video/x-raw(memory:NVMM),width={width},height={height},format=NV12,framerate={fps}/1
          ! nvvidconv ! video/x-raw,format=BGRx ! videoconvert ! video/x-raw,format=BGR ! appsink drop=true sync=false
        description: CSI_NVIDIA parameter
        reload_tier: system_restart
        reboot_required: true
      CSI_RPI:
        type: string
        default: libcamerasrc ! video/x-raw,width={width},height={height},framerate={fps}/1 ! videoconvert ! video/x-raw,format=BGR
          ! appsink drop=true sync=false
        description: Network stream pipelines
        reload_tier: system_restart
        reboot_required: true
      RTSP:
        type: string
        default: rtspsrc location={url} latency={latency} ! decodebin ! videoconvert ! video/x-raw,format=BGR ! videoscale
          ! video/x-raw,width={width},height={height} ! appsink drop=true sync=false
        description: RTSP parameter
        reload_tier: system_restart
        reboot_required: true
      UDP:
        type: string
        default: udpsrc uri={url} ! application/x-rtp ! rtph264depay ! avdec_h264 ! videoconvert ! video/x-raw,format=BGR
          ! videoscale ! video/x-raw,width={width},height={height} ! appsink drop=true sync=false
        description: UDP parameter
        reload_tier: system_restart
        reboot_required: true
      HTTP:
        type: string
        default: souphttpsrc location={url} ! decodebin ! videoconvert ! video/x-raw,format=BGR ! videoscale ! video/x-raw,width={width},height={height}
          ! appsink drop=true sync=false
        description: '==============================================================================

          # FRAME WINDOW & DISPLAY

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
  FrameEstimation:
    display_name: Frame Display
    category: processing
    icon: picture_in_picture
    parameters:
      FRAME_TITLE:
        type: string
        default: Video
        description: Window title
        reload_tier: immediate
        reboot_required: false
      SHOW_VIDEO_WINDOW:
        type: boolean
        default: false
        description: "true for debugging with display\n  # Note: Use VideoSource.DEFAULT_FPS for frame rate settings\n\n#\
          \ ==============================================================================\n# ESTIMATOR (Kalman Filter for\
          \ Tracking)\n# =============================================================================="
        reload_tier: immediate
        reboot_required: false
  Estimator:
    display_name: State Estimator
    category: processing
    icon: insights
    parameters:
      USE_ESTIMATOR:
        type: boolean
        default: true
        description: Enable/disable state estimation
        reload_tier: tracker_restart
        reboot_required: false
      ESTIMATOR_TYPE:
        type: string
        default: Kalman
        description: ESTIMATOR_TYPE parameter
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: Kalman
          label: Kalman
        - value: None
          label: None
      ESTIMATOR_HISTORY_LENGTH:
        type: integer
        default: 5
        description: "State history buffer\n  # === Kalman Filter Parameters ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      ESTIMATOR_PROCESS_NOISE_VARIANCE:
        type: float
        default: 10.0
        description: Motion uncertainty
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      ESTIMATOR_MEASUREMENT_NOISE_VARIANCE:
        type: float
        default: 1.0
        description: "Sensor noise\n  # Initial covariance: [x, y, dx, dy, ddx, ddy]"
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
      ESTIMATOR_INITIAL_STATE_COVARIANCE:
        type: array
        default:
        - 5
        - 5
        - 50
        - 50
        - 100
        - 100
        description: ESTIMATOR_INITIAL_STATE_COVARIANCE parameter
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      USE_ESTIMATOR_FOR_FOLLOWING:
        type: boolean
        default: true
        description: "Use predictions for control\n  # === Visualization ==="
        reload_tier: tracker_restart
        reboot_required: false
      ESTIMATED_POSITION_COLOR:
        type: array
        default:
        - 255
        - 0
        - 0
        description: 'Blue: tracking active'
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
      ESTIMATION_ONLY_COLOR:
        type: array
        default:
        - 0
        - 165
        - 255
        description: 'Orange: prediction only


          # ==============================================================================

          # FRAME PREPROCESSING

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
        item_type: number
        min_items: 0
        max_items: 20
  FramePreprocessor:
    display_name: Frame Preprocessor
    category: processing
    icon: auto_fix_high
    parameters:
      ENABLE_PREPROCESSING:
        type: boolean
        default: true
        description: === Blur (noise reduction) ===
        reload_tier: tracker_restart
        reboot_required: false
      PREPROCESSING_USE_BLUR:
        type: boolean
        default: true
        description: PREPROCESSING_USE_BLUR parameter
        reload_tier: tracker_restart
        reboot_required: false
      PREPROCESSING_BLUR_KERNEL_SIZE:
        type: integer
        default: 5
        description: Must be odd (3, 5, 7...)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      PREPROCESSING_USE_MEDIAN_BLUR:
        type: boolean
        default: false
        description: PREPROCESSING_USE_MEDIAN_BLUR parameter
        reload_tier: tracker_restart
        reboot_required: false
      PREPROCESSING_MEDIAN_BLUR_KERNEL_SIZE:
        type: integer
        default: 5
        description: === Contrast Enhancement ===
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      PREPROCESSING_USE_CLAHE:
        type: boolean
        default: true
        description: Adaptive histogram equalization
        reload_tier: tracker_restart
        reboot_required: false
      PREPROCESSING_CLAHE_CLIP_LIMIT:
        type: float
        default: 2.0
        description: Contrast limit
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      PREPROCESSING_CLAHE_TILE_GRID_SIZE:
        type: integer
        default: 8
        description: "Grid size (1-10)\n  # === Color Space ==="
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 160
      PREPROCESSING_COLOR_SPACE:
        type: string
        default: BGR
        description: '# ============================================================================== # SEGMENTATION # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
        options:
        - value: BGR
          label: BGR
        - value: GRAY
          label: GRAY
        - value: HSV
          label: HSV
        - value: LAB
          label: LAB
  Segmentation:
    display_name: Segmentation
    category: processing
    icon: crop
    parameters:
      SEGMENTATION_ALGORITHMS:
        type: array
        default:
        - GrabCut
        - Watershed
        - yolov8s-seg
        - yolov8n-oiv7
        - yolov8s-obb
        - yolov11n
        description: SEGMENTATION_ALGORITHMS parameter
        reload_tier: tracker_restart
        reboot_required: false
        item_type: string
      DEFAULT_SEGMENTATION_ALGORITHM:
        type: string
        default: yolov11n.pt
        description: DEFAULT_SEGMENTATION_ALGORITHM parameter
        reload_tier: tracker_restart
        reboot_required: false
      USE_SEGMENTATION_FOR_TRACKING:
        type: boolean
        default: true
        description: === Morphological Operations ===
        reload_tier: tracker_restart
        reboot_required: false
      MORPHOLOGICAL_KERNEL_SIZE:
        type: integer
        default: 5
        description: MORPHOLOGICAL_KERNEL_SIZE parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      DILATION_ITERATIONS:
        type: integer
        default: 2
        description: DILATION_ITERATIONS parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      EROSION_ITERATIONS:
        type: integer
        default: 1
        description: === GrabCut Parameters ===
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
      SEGMENTATION_GRABCUT_ITER:
        type: integer
        default: 5
        description: SEGMENTATION_GRABCUT_ITER parameter
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 100
      SEGMENTATION_MIN_AREA:
        type: integer
        default: 500
        description: 'Min segment area in pixels


          # Sections removed in v6.0 (orphaned ‚Äî no code reads these):

          # YawControl, VerticalErrorRecalculation, Gimbal, AdaptiveControl, ChaseFollower


          # ==============================================================================

          # PID CONTROLLER

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
        unit: px
  PID:
    display_name: PID Controller
    category: control
    icon: tune
    parameters:
      PID_GAINS:
        type: object
        description: PID_GAINS settings
        reboot_required: false
        properties:
          mc_yawspeed_deg_s:
            type: object
            default:
              p: 12.0
              i: 0.5
              d: 1.5
            description: '[deg/s] ‚Äî visual tracking yaw rate'
            reload_tier: follower_restart
            reboot_required: false
            unit: deg
          mc_vel_body_right:
            type: object
            default:
              p: 1.5
              i: 0.08
              d: 0.2
            description: '[m/s]   ‚Äî pursuit lateral velocity'
            reload_tier: follower_restart
            reboot_required: false
            unit: m/s
          mc_vel_body_down:
            type: object
            default:
              p: 1.0
              i: 0.08
              d: 0.15
            description: '[m/s]   ‚Äî pursuit vertical velocity'
            reload_tier: follower_restart
            reboot_required: false
            unit: m/s
          mc_vel_forward:
            type: object
            default:
              p: 4.5
              i: 0.1
              d: 1.5
            description: '[m/s]   ‚Äî position-tracking forward (ground)'
            reload_tier: follower_restart
            reboot_required: false
            unit: ground
          mc_vel_lateral:
            type: object
            default:
              p: 4.5
              i: 0.1
              d: 1.5
            description: '[m/s]   ‚Äî position-tracking lateral (distance+ground)'
            reload_tier: follower_restart
            reboot_required: false
            unit: m/s
          mc_altitude:
            type: object
            default:
              p: 2.0
              i: 0.03
              d: 0.05
            description: "[m]     ‚Äî altitude via velocity command\n\n    # ‚îÄ‚îÄ MC: Attitude Rate Control ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\
              \    # Used by: mc_attitude_rate only"
            reload_tier: follower_restart
            reboot_required: false
            unit: m
          mc_pitchspeed_deg_s:
            type: object
            default:
              p: 18.0
              i: 0.15
              d: 0.4
            description: '[deg/s] ‚Äî pitch rate'
            reload_tier: follower_restart
            reboot_required: false
            unit: deg
          mc_rollspeed_deg_s:
            type: object
            default:
              p: 1.5
              i: 0.08
              d: 0.25
            description: '[deg/s] ‚Äî roll rate'
            reload_tier: follower_restart
            reboot_required: false
            unit: deg
          mc_att_yawspeed_deg_s:
            type: object
            default:
              p: 12.0
              i: 0.1
              d: 0.3
            description: '[deg/s] ‚Äî yaw rate (attitude mode)'
            reload_tier: follower_restart
            reboot_required: false
            unit: attitude mode
          mc_att_altitude:
            type: object
            default:
              p: 2.0
              i: 0.3
              d: 0.5
            description: "[m]     ‚Äî altitude via thrust\n\n    # ‚îÄ‚îÄ FW: L1 + TECS Cascade ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\
              \    # Used by: fw_attitude_rate only"
            reload_tier: follower_restart
            reboot_required: false
            unit: m
          fw_bank_angle:
            type: object
            default:
              p: 2.0
              i: 0.3
              d: 0.2
            description: "[deg]   ‚Äî L1 outer loop bank angle\n    # fw_roll_rate: removed ‚Äî inner roll-rate loop not implemented;\
              \ L1 outer loop uses fw_bank_angle PID"
            reload_tier: follower_restart
            reboot_required: false
            unit: deg
          fw_pitch_rate:
            type: object
            default:
              p: 0.6
              i: 0.15
              d: 0.03
            description: '[deg/s] ‚Äî TECS pitch rate'
            reload_tier: follower_restart
            reboot_required: false
            unit: deg
          fw_yaw_rate:
            type: object
            default:
              p: 0.5
              i: 0.05
              d: 0.02
            description: '[deg/s] ‚Äî coordinated yaw'
            reload_tier: follower_restart
            reboot_required: false
            unit: deg
          fw_throttle:
            type: object
            default:
              p: 0.4
              i: 0.2
              d: 0.1
            description: "[0-1]   ‚Äî TECS throttle\n\n  # === Advanced PID Features ==="
            reload_tier: follower_restart
            reboot_required: false
      PROPORTIONAL_ON_MEASUREMENT:
        type: boolean
        default: false
        description: Avoid derivative kick
        reload_tier: follower_restart
        reboot_required: false
      ENABLE_ANTI_WINDUP:
        type: boolean
        default: true
        description: Prevent integral windup
        reload_tier: follower_restart
        reboot_required: false
      ANTI_WINDUP_BACK_CALC_COEFF:
        type: float
        default: 0.1
        description: 'Back-calculation coefficient


          # ==============================================================================

          # SAFETY CONFIGURATION (v3.6.0+)

          # ==============================================================================

          # Single source of truth for all safety limits.

          # All followers use GlobalLimits unless overridden in FollowerOverrides.

          #

          # Resolution Order: FollowerOverrides -> GlobalLimits -> Hardcoded Fallbacks

          # =============================================================================='
        reload_tier: follower_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
  Safety:
    display_name: Safety Limits
    category: safety
    icon: shield
    parameters:
      GlobalLimits:
        type: object
        default:
          MIN_ALTITUDE: 3.0
          MAX_ALTITUDE: 120.0
          ALTITUDE_WARNING_BUFFER: 2.0
          ALTITUDE_SAFETY_ENABLED: true
          MAX_VELOCITY: 1.0
          MAX_VELOCITY_FORWARD: 0.5
          MAX_VELOCITY_LATERAL: 0.5
          MAX_VELOCITY_VERTICAL: 0.5
          MAX_YAW_RATE: 45.0
          MAX_PITCH_RATE: 45.0
          MAX_ROLL_RATE: 45.0
          EMERGENCY_STOP_ENABLED: true
          RTL_ON_VIOLATION: true
          TARGET_LOSS_ACTION: hover
          MAX_SAFETY_VIOLATIONS: 5
        description: GlobalLimits parameter
        reload_tier: follower_restart
        reboot_required: false
      FollowerOverrides:
        type: object
        description: FollowerOverrides settings
        reboot_required: false
        properties:
          GM_VELOCITY_VECTOR:
            type: object
            default:
              RTL_ON_VIOLATION: false
            description: GM_VELOCITY_VECTOR parameter
            reload_tier: follower_restart
            reboot_required: false
          GM_VELOCITY_CHASE:
            type: object
            default:
              RTL_ON_VIOLATION: false
              EMERGENCY_STOP_ENABLED: false
            description: GM_VELOCITY_CHASE parameter
            reload_tier: follower_restart
            reboot_required: false
          FW_ATTITUDE_RATE:
            type: object
            default:
              MAX_PITCH_RATE: 20.0
              MAX_YAW_RATE: 25.0
              TARGET_LOSS_ACTION: orbit
            description: FW_ATTITUDE_RATE parameter
            reload_tier: follower_restart
            reboot_required: false
          MC_ATTITUDE_RATE:
            type: object
            default:
              MAX_YAW_RATE: 60.0
            description: MC_ATTITUDE_RATE parameter
            reload_tier: follower_restart
            reboot_required: false
          MC_VELOCITY_POSITION:
            type: object
            default:
              MAX_YAW_RATE: 10.0
            description: MC_VELOCITY_POSITION parameter
            reload_tier: follower_restart
            reboot_required: false
          MC_VELOCITY_DISTANCE:
            type: object
            default:
              MAX_YAW_RATE: 10.0
            description: MC_VELOCITY_DISTANCE parameter
            reload_tier: follower_restart
            reboot_required: false
  Setpoint:
    display_name: Setpoint Config
    category: processing
    icon: my_location
    parameters:
      CAMERA_YAW_OFFSET:
        type: integer
        default: 0
        description: Camera mounting offset (degrees)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0
        max: 10000
        unit: deg
      SETPOINT_PUBLISH_RATE_S:
        type: float
        default: 0.1
        description: Setpoint update period (seconds)
        reload_tier: tracker_restart
        reboot_required: false
        min: 0.0
        max: 1.0
        step: 0.01
        unit: s
      ENABLE_SETPOINT_DEBUGGING:
        type: boolean
        default: false
        description: 'Debug output


          # ==============================================================================

          # TELEMETRY

          # =============================================================================='
        reload_tier: tracker_restart
        reboot_required: false
  Telemetry:
    display_name: Telemetry
    category: network
    icon: analytics
    parameters:
      ENABLE_TELEMETRY:
        type: boolean
        default: true
        description: ENABLE_TELEMETRY parameter
        reload_tier: system_restart
        reboot_required: true
      TELEMETRY_SEND_RATE:
        type: integer
        default: 2
        description: Hz
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
        unit: hz
      TELEMETRY_FLASK_ENDPOINT:
        type: string
        default: /telemetry
        description: "REST endpoint\n  # === UDP Telemetry ==="
        reload_tier: system_restart
        reboot_required: true
      ENABLE_UDP_STREAM:
        type: boolean
        default: false
        description: ENABLE_UDP_STREAM parameter
        reload_tier: system_restart
        reboot_required: true
      UDP_HOST:
        type: string
        default: 127.0.0.1
        description: UDP_HOST parameter
        reload_tier: system_restart
        reboot_required: true
      UDP_PORT:
        type: integer
        default: 5550
        description: === WebSocket Telemetry ===
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      WEBSOCK_HOST:
        type: string
        default: 127.0.0.1
        description: WEBSOCK_HOST parameter
        reload_tier: system_restart
        reboot_required: true
      WEBSOCK_PORT:
        type: integer
        default: 5551
        description: === Data Selection ===
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      ENABLE_FOLLOWER_TELEMETRY:
        type: boolean
        default: true
        description: 'Include follower status


          # ==============================================================================

          # GSTREAMER OUTPUT STREAM (Secondary H.264 Output for QGC/Ground Stations)

          # ==============================================================================

          # Streams video as H.264/RTP/UDP ‚Äî the format required by QGroundControl (QGC),

          # Mission Planner, and other MAVLink-based ground control stations.

          #

          # IMPORTANT ‚Äî Two separate GStreamer configs exist in this file:

          #   1. USE_GSTREAMER (in VideoSource above) = how frames are READ from cameras

          #      - Only affects input capture (RTSP, CSI, USB via GStreamer pipelines)

          #      - Has NO effect on output streaming

          #   2. ENABLE_GSTREAMER_STREAM (this section) = how frames are SENT to QGC

          #      - Creates a secondary H.264/RTP/UDP output alongside the dashboard

          #      - Dashboard streaming (HTTP/WebSocket/WebRTC) works independently

          #

          # When ENABLE_GSTREAMER_STREAM is false (default):

          #   - Dashboard streaming works normally via HTTP, WebSocket, or WebRTC

          #   - No H.264 encoding overhead, no UDP output

          #   - QGC will NOT receive video (use dashboard instead)

          #

          # When ENABLE_GSTREAMER_STREAM is true:

          #   - Dashboard streaming continues as before (unaffected)

          #   - Additionally, H.264/RTP frames are sent to GSTREAMER_HOST:GSTREAMER_PORT

          #   - QGC receives video at the configured UDP endpoint

          #   - In QGC: Application Settings ‚Üí Video ‚Üí UDP Video Stream, port 2000

          #

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
  GStreamer:
    display_name: GStreamer Output
    category: network
    icon: play_circle
    parameters:
      ENABLE_GSTREAMER_STREAM:
        type: boolean
        default: false
        description: "Master enable for QGC video output (off by default)\n\n  # === Encoder Selection ===\n  # ENABLE_HARDWARE_ENCODING\
          \ controls encoder auto-detection:\n  #   true  = try GPU encoder first (NVENC ‚Üí VAAPI), software fallback if unavailable\n\
          \  #   false = always use software x264enc (safe default, works everywhere)"
        reload_tier: system_restart
        reboot_required: true
      ENABLE_HARDWARE_ENCODING:
        type: boolean
        default: false
        description: === Stream Settings ===
        reload_tier: system_restart
        reboot_required: true
      GSTREAMER_HOST:
        type: string
        default: 127.0.0.1
        description: UDP destination IP
        reload_tier: system_restart
        reboot_required: true
      GSTREAMER_PORT:
        type: integer
        default: 2000
        description: UDP destination port
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      GSTREAMER_BITRATE:
        type: integer
        default: 2000
        description: Encoding bitrate (kbps)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
        unit: kbps
      GSTREAMER_WIDTH:
        type: integer
        default: 1280
        description: Output width
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      GSTREAMER_HEIGHT:
        type: integer
        default: 720
        description: Output height
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      GSTREAMER_FRAMERATE:
        type: integer
        default: 15
        description: Output framerate
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
      GSTREAMER_BUFFER_SIZE:
        type: integer
        default: 50000000
        description: "UDP buffer size (bytes)\n\n  # === Encoder Tuning (used by software x264enc) ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000000
      GSTREAMER_SPEED_PRESET:
        type: string
        default: ultrafast
        description: x264 preset (ultrafast/superfast/veryfast/faster/fast)
        reload_tier: system_restart
        reboot_required: true
      GSTREAMER_KEY_INT_MAX:
        type: integer
        default: 30
        description: Keyframe interval (frames)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
        unit: frames
      GSTREAMER_TUNE:
        type: string
        default: zerolatency
        description: "x264 tuning (zerolatency recommended)\n\n  # === Video Enhancement ==="
        reload_tier: system_restart
        reboot_required: true
      GSTREAMER_CONTRAST:
        type: float
        default: 5.0
        description: GSTREAMER_CONTRAST parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 100.0
        step: 0.1
      GSTREAMER_BRIGHTNESS:
        type: integer
        default: 10
        description: GSTREAMER_BRIGHTNESS parameter
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 200
      GSTREAMER_SATURATION:
        type: integer
        default: 5
        description: '==============================================================================

          # VIDEO RECORDING

          # ==============================================================================

          # Saves video frames to local files for post-flight review and analysis.

          # Independent of streaming (GStreamer QGC output and dashboard streaming).

          # Uses cv2.VideoWriter with FOURCC codecs for maximum cross-platform compatibility.

          #

          # Recording does NOT affect:

          #   - Dashboard streaming (HTTP/WebSocket/WebRTC) ‚Äî continues as normal

          #   - GStreamer QGC output ‚Äî continues as normal

          #   - Pipeline performance ‚Äî non-blocking writer thread with bounded queue

          #

          # Crash Safety:

          #   Files are written with .tmp suffix during recording. On clean stop, the file

          #   is renamed to its final name. If the application crashes mid-recording, the

          #   .tmp file is automatically finalized on next startup (RECORDING_AUTO_RECOVERY).

          #

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
  Recording:
    display_name: Video Recording
    category: video
    icon: fiber_manual_record
    parameters:
      ENABLE_RECORDING:
        type: boolean
        default: true
        description: "Allow recording via API/keyboard (R key)\n\n  # === Output Settings ==="
        reload_tier: system_restart
        reboot_required: true
      RECORDING_OUTPUT_DIR:
        type: string
        default: recordings
        description: 'Directory relative to project root #'
        reload_tier: system_restart
        reboot_required: true
        options:
        - value: mp4v
          label: mp4v
        - value: XVID
          label: XVID
        - value: MJPG
          label: MJPG
        - value: avc1
          label: avc1
      RECORDING_CODEC:
        type: string
        default: mp4v
        description: Universal reliable codec (download to play in VLC/WMP)
        reload_tier: system_restart
        reboot_required: true
      RECORDING_CONTAINER:
        type: string
        default: mp4
        description: File extension/container format
        reload_tier: system_restart
        reboot_required: true
      RECORDING_FPS:
        type: integer
        default: 0
        description: 0 = match source video FPS
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
        unit: fps
      RECORDING_WIDTH:
        type: integer
        default: 0
        description: 0 = match source frame width
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      RECORDING_HEIGHT:
        type: integer
        default: 0
        description: 0 = match source frame height
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      RECORDING_INCLUDE_OSD:
        type: boolean
        default: true
        description: Record OSD overlays on frames
        reload_tier: system_restart
        reboot_required: true
      RECORDING_QUEUE_SIZE:
        type: integer
        default: 5
        description: Writer thread queue depth (frames)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
        unit: frames
      RECORDING_MAX_FRAME_DUPLICATION:
        type: integer
        default: 5
        description: Max frame copies per delivery (real-time pacing cap)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 100
      RECORDING_TRANSCODE_H264:
        type: boolean
        default: true
        description: Auto-transcode to H.264 after stop (requires FFmpeg)
        reload_tier: system_restart
        reboot_required: true
        unit: requires ffmpeg
      RECORDING_MAX_FILE_SIZE_MB:
        type: integer
        default: 0
        description: "0 = unlimited\n\n  # === Crash Recovery ==="
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
      RECORDING_AUTO_RECOVERY:
        type: boolean
        default: true
        description: "Finalize .tmp files on startup\n\n  # === Storage Monitoring ==="
        reload_tier: system_restart
        reboot_required: true
      STORAGE_WARNING_THRESHOLD_MB:
        type: integer
        default: 500
        description: Warn when free space below this (MB)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 10000
        unit: mb
      STORAGE_CRITICAL_THRESHOLD_MB:
        type: integer
        default: 100
        description: Auto-stop recording below this (MB)
        reload_tier: system_restart
        reboot_required: true
        min: 0
        max: 1000
        unit: mb
      STORAGE_POLL_INTERVAL:
        type: float
        default: 10.0
        description: 'Seconds between disk space checks


          # ==============================================================================

          # OSD (ON-SCREEN DISPLAY)

          # ==============================================================================

          # üì∫ Professional On-Screen Display System

          #

          # Configuration Philosophy:

          # - This section contains ONLY general OSD settings

          # - All element configurations (what, where, how) are in preset files

          # - Presets are located in: configs/osd_presets/

          #

          # Available Presets:

          # - minimal.yaml: Essential info only (altitude, battery, status)

          # - professional.yaml: Balanced aviation-standard layout (RECOMMENDED)

          # - full_telemetry.yaml: All available data (testing/debugging)

          #

          # Adding Custom Presets:

          # 1. Create new YAML file in configs/osd_presets/

          # 2. Copy structure from existing preset

          # 3. Set OSD_PRESET below to your filename (without .yaml)

          # 4. All MAVLink data points are automatically available

          #

          # Adding New MAVLink Fields to OSD:

          # 1. Ensure field exists in MAVLink.MAVLINK_DATA_POINTS section above

          # 2. Open your chosen preset file (e.g., professional.yaml)

          # 3. Add field to mavlink_data.fields section with positioning/styling

          # 4. Available fields: heading, altitude_agl, altitude_msl, airspeed,

          #    groundspeed, voltage, satellites_visible, hdop, vdop, latitude,

          #    longitude, roll, pitch, throttle, climb, flight_mode, etc.

          #

          # =============================================================================='
        reload_tier: system_restart
        reboot_required: true
        min: 0.0
        max: 100.0
        step: 0.1
        unit: s
  OSD:
    display_name: On-Screen Display
    category: display
    icon: tv
    parameters:
      OSD_ENABLED:
        type: boolean
        default: true
        description: "Master enable/disable for OSD\n\n  # === Preset Selection ==="
        reload_tier: immediate
        reboot_required: false
      OSD_PRESET:
        type: string
        default: professional
        description: 'Active preset filename (without .yaml) # # === Performance Mode ==='
        reload_tier: immediate
        reboot_required: false
        options:
        - value: minimal
          label: minimal
        - value: professional
          label: professional
        - value: military
          label: military
        - value: full_telemetry
          label: full_telemetry
        - value: debug
          label: debug
      OSD_PERFORMANCE_MODE:
        type: string
        default: balanced
        description: 'Rendering quality vs speed tradeoff # # === Real-Time OSD Pipeline ==='
        reload_tier: immediate
        reboot_required: false
        options:
        - value: fast
          label: fast
        - value: balanced
          label: balanced
        - value: quality
          label: quality
      OSD_PIPELINE_MODE:
        type: string
        default: layered_realtime
        description: 'OSD rendering pipeline strategy #'
        reload_tier: immediate
        reboot_required: false
        options:
        - value: layered_realtime
          label: layered_realtime
        - value: legacy
          label: legacy
      OSD_TARGET_LAYER_RESOLUTION:
        type: string
        default: stream
        description: OSD_TARGET_LAYER_RESOLUTION parameter
        reload_tier: immediate
        reboot_required: false
        options:
        - value: stream
          label: stream
        - value: capture
          label: capture
      OSD_DYNAMIC_FPS:
        type: integer
        default: 10
        description: Update cadence for telemetry/status overlays
        reload_tier: immediate
        reboot_required: false
        min: 0
        max: 200
      OSD_DATETIME_FPS:
        type: integer
        default: 1
        description: Lower cadence for clock text updates
        reload_tier: immediate
        reboot_required: false
        min: 0
        max: 10000
      OSD_MAX_RENDER_BUDGET_MS:
        type: float
        default: 25.0
        description: Dynamic layer render budget
        reload_tier: immediate
        reboot_required: false
        min: 0.0
        max: 100.0
        step: 0.1
      OSD_AUTO_DEGRADE:
        type: boolean
        default: true
        description: Auto-lower OSD mode when over budget
        reload_tier: immediate
        reboot_required: false
      OSD_AUTO_DEGRADE_MIN_MODE:
        type: string
        default: fast
        description: 'Minimum quality floor for auto-degradation #'
        reload_tier: immediate
        reboot_required: false
        options:
        - value: fast
          label: fast
        - value: balanced
          label: balanced
        - value: quality
          label: quality
      OSD_COMPOSITOR:
        type: string
        default: cv2_alpha
        description: 'Overlay compositing method # # === Color Mode ==='
        reload_tier: immediate
        reboot_required: false
        options:
        - value: cv2_alpha
          label: cv2_alpha
        - value: legacy_pil_composite
          label: legacy_pil_composite
      OSD_COLOR_MODE:
        type: string
        default: day
        description: 'Runtime color palette for OSD elements # # ‚ÑπÔ∏è NOTE: All element configurations are loaded from the preset
          file # ‚ÑπÔ∏è See configs/osd_presets/{OSD_PRESET}.yaml for layout and styling # ‚ÑπÔ∏è Available presets: minimal | professional
          | military | full_telemetry | debug # ‚ÑπÔ∏è Color mode and preset can be switched at runtime via API or dashboard #
          ============================================================================== # DEBUGGING & LOGGING # =============================================================================='
        reload_tier: immediate
        reboot_required: false
        options:
        - value: day
          label: day
        - value: night
          label: night
        - value: amber
          label: amber
  Debugging:
    display_name: Debugging
    category: display
    icon: bug_report
    parameters:
      ENABLE_DEBUGGING:
        type: boolean
        default: true
        description: ENABLE_DEBUGGING parameter
        reload_tier: immediate
        reboot_required: false
      LOG_FILE_PATH:
        type: string
        default: logs/tracking_log.txt
        description: LOG_FILE_PATH parameter
        reload_tier: immediate
        reboot_required: false
      LOG_LEVEL:
        type: string
        default: INFO
        description: LOG_LEVEL parameter
        reload_tier: immediate
        reboot_required: false
        options:
        - value: DEBUG
          label: DEBUG
        - value: INFO
          label: INFO
        - value: WARNING
          label: WARNING
        - value: ERROR
          label: ERROR
      SAVE_DEBUG_FRAMES:
        type: boolean
        default: false
        description: Save frames for analysis
        reload_tier: immediate
        reboot_required: false
      DEBUG_FRAME_PATH:
        type: string
        default: debug_frames/
        description: 'Debug frame storage


          # ==============================================================================

          # END OF CONFIGURATION

          # ==============================================================================

          # ‚úÖ Configuration v4.0.0 - Cleaned and unified

          #

          # Key sections:

          # - VideoSource: All video input settings (use CAPTURE_WIDTH/HEIGHT/FPS)

          # - Safety.GlobalLimits: Single source of truth for all safety limits

          # - Follower sections: Per-follower overrides (optional)

          # - Tracker sections: Per-tracker configuration

          #

          # For schema-driven editing, see configs/config_schema.yaml

          # =============================================================================='
        reload_tier: immediate
        reboot_required: false
        unit: fps
