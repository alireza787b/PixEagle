# ============================================================================
# PixEagle Python Dependencies
# ============================================================================
# RECOMMENDED: Use 'make init' for automatic platform detection and setup
#
# MANUAL INSTALL: pip install -r requirements.txt
#   - Works on x86_64 (Intel/AMD) and macOS
#   - On ARM/Raspberry Pi: ultralytics/torch may fail with "Illegal instruction"
#     If this happens, run 'make init' and select "Core" profile
# ============================================================================

# Core MAVSDK for drone control
aiogrpc
grpcio
mavsdk  >= 3.9.0
protobuf

# OpenCV for computer vision and tracking
opencv-python >= 4.8.0  # Flexible for ARM/Raspberry Pi compatibility
opencv-contrib-python >= 4.8.0  # For extra features including tracking algorithms
# dlib - OPTIONAL: For fast correlation filter tracker, run: bash scripts/install_dlib.sh
ultralytics >= 8.3.114, < 9.0
ncnn
lap

# Professional OSD rendering with high-quality TrueType fonts
Pillow >= 10.0.0  # PIL fork for professional text rendering on video frames

# Flask for web API and interaction
Flask
Flask-RESTful
Flask-Cors
websockets
wsproto

# Libraries for numerical processing, data handling, and mathematical operations
# Python 3.13+ requires NumPy 2.x wheels.
numpy >= 1.24.0, < 2.0; python_version < "3.13"
numpy >= 2.1.0, < 3.0; python_version >= "3.13"
pandas
scipy # Includes modules for optimization, linear algebra, integration, and more
scikit-learn
scikit-image

# For implementing PID controllers
simple-pid

# For Kalman filter implementations
filterpy

# Additional dependencies for API development and deployment
requests
gunicorn # For deploying Flask apps in production

# Development and testing tools
ipython
pytest >= 7.4.0  # Testing framework
pytest-cov >= 4.1.0  # Coverage reporting
pytest-asyncio >= 0.21.0  # Async test support
pytest-mock >= 3.11.0  # Mock fixtures
httpx >= 0.24.0  # Required for FastAPI/Starlette TestClient


fastapi
uvicorn
python-multipart
dill
aiortc
pyyaml
pymap3d

# Configuration management
ruamel.yaml >= 0.17.0  # Round-trip YAML with comment preservation
deepdiff >= 6.0  # Configuration diff generation
